// This file is auto-generated by `cargo run --bin gen_formatters`
// Do not edit manually. Regenerate with:
//   cargo run --bin gen_formatters > src/output/table_generated.rs
//
// Included via include!() in table.rs

/// Format a single Character for display (all fields)
pub fn format_character(item: &types::Character) -> String {
    let mut lines = Vec::new();

    lines.push("Character".to_string());

    if let Some(v) = item.abdicate_turn {
        lines.push(format!("  Abdicate Turn: {}", v));
    }
    if let Some(v) = item.age {
        lines.push(format!("  Age: {}", v));
    }
    if let Some(v) = &item.age_group {
        lines.push(format!("  Age Group: {}", v));
    }
    if let Some(v) = item.age_remainder {
        lines.push(format!("  Age Remainder: {}", v));
    }
    if let Some(v) = &item.archetype {
        lines.push(format!("  Archetype: {}", shorten_type(v)));
    }
    if let Some(v) = item.birth_city_id {
        lines.push(format!("  Birth City ID: {}", v));
    }
    if let Some(v) = item.birth_father_id {
        lines.push(format!("  Birth Father ID: {}", v));
    }
    if let Some(v) = item.birth_mother_id {
        lines.push(format!("  Birth Mother ID: {}", v));
    }
    if let Some(v) = item.birth_turn {
        lines.push(format!("  Birth Turn: {}", v));
    }
    if !item.change_job_extra_opinions.is_empty() {
        lines.push("  Change Job Extra Opinions:".to_string());
        for (k, v) in &item.change_job_extra_opinions {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = &item.character {
        lines.push(format!("  Character: {}", v));
    }
    if let Some(v) = &item.character_portrait {
        lines.push(format!("  Character Portrait: {}", shorten_type(v)));
    }
    if !item.children_ids.is_empty() {
        let items: Vec<String> = item.children_ids.iter().map(|v| v.to_string()).collect();
        lines.push(format!("  Children Ids: {}", items.join(", ")));
    }
    if let Some(v) = item.city_agent_id {
        lines.push(format!("  City Agent ID: {}", v));
    }
    if let Some(v) = item.city_governor_id {
        lines.push(format!("  City Governor ID: {}", v));
    }
    if let Some(v) = &item.clergy_type {
        lines.push(format!("  Clergy Type: {}", shorten_type(v)));
    }
    if let Some(v) = &item.cognomen {
        lines.push(format!("  Cognomen: {}", v));
    }
    if !item.cognomen_min_values.is_empty() {
        lines.push("  Cognomen Min Values:".to_string());
        for (k, v) in &item.cognomen_min_values {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = &item.council {
        lines.push(format!("  Council: {}", shorten_type(v)));
    }
    if let Some(v) = &item.courtier {
        lines.push(format!("  Courtier: {}", v));
    }
    if let Some(v) = &item.custom_name {
        lines.push(format!("  Custom Name: {}", v));
    }
    if let Some(v) = &item.dead_council {
        lines.push(format!("  Dead Council: {}", shorten_type(v)));
    }
    if let Some(v) = &item.death_reason {
        lines.push(format!("  Death Reason: {}", v));
    }
    if let Some(v) = item.death_turn {
        lines.push(format!("  Death Turn: {}", v));
    }
    if !item.explorer_effect_units.is_empty() {
        let items: Vec<String> = item.explorer_effect_units.iter().map(|s| shorten_type(s)).collect();
        lines.push(format!("  Explorer Effect Units: {}", items.join(", ")));
    }
    if let Some(v) = &item.family {
        lines.push(format!("  Family: {}", shorten_type(v)));
    }
    if let Some(v) = &item.family_class {
        lines.push(format!("  Family Class: {}", shorten_type(v)));
    }
    if !item.family_opinion_councils.is_empty() {
        lines.push("  Family Opinion Councils:".to_string());
        for (k, v) in &item.family_opinion_councils {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.father_id {
        lines.push(format!("  Father ID: {}", v));
    }
    if let Some(v) = &item.first_name {
        lines.push(format!("  First Name: {}", v));
    }
    if let Some(v) = &item.gender {
        lines.push(format!("  Gender: {}", v));
    }
    if let Some(v) = item.gender_int {
        lines.push(format!("  Gender Int: {}", v));
    }
    if let Some(v) = &item.gender_opposite {
        lines.push(format!("  Gender Opposite: {}", v));
    }
    if !item.general_effect_units.is_empty() {
        let items: Vec<String> = item.general_effect_units.iter().map(|s| shorten_type(s)).collect();
        lines.push(format!("  General Effect Units: {}", items.join(", ")));
    }
    if let Some(v) = item.has_archetype {
        if v {
            lines.push("  Has Archetype: Yes".to_string());
        }
    }
    if let Some(v) = item.has_birth_city {
        if v {
            lines.push("  Has Birth City: Yes".to_string());
        }
    }
    if let Some(v) = item.has_birth_father {
        if v {
            lines.push("  Has Birth Father: Yes".to_string());
        }
    }
    if let Some(v) = item.has_birth_mother {
        if v {
            lines.push("  Has Birth Mother: Yes".to_string());
        }
    }
    if let Some(v) = item.has_character {
        if v {
            lines.push("  Has Character: Yes".to_string());
        }
    }
    if let Some(v) = item.has_cognomen {
        if v {
            lines.push("  Has Cognomen: Yes".to_string());
        }
    }
    if !item.has_council_prereqs.is_empty() {
        lines.push("  Has Council Prereqs:".to_string());
        for (k, v) in &item.has_council_prereqs {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.has_custom_name {
        if v {
            lines.push("  Has Custom Name: Yes".to_string());
        }
    }
    if let Some(v) = item.has_dead_council {
        if v {
            lines.push("  Has Dead Council: Yes".to_string());
        }
    }
    if let Some(v) = item.has_explorer_all {
        if v {
            lines.push("  Has Explorer All: Yes".to_string());
        }
    }
    if let Some(v) = item.has_explorer_prereq {
        if v {
            lines.push("  Has Explorer Prereq: Yes".to_string());
        }
    }
    if let Some(v) = item.has_family {
        if v {
            lines.push("  Has Family: Yes".to_string());
        }
    }
    if let Some(v) = item.has_father {
        if v {
            lines.push("  Has Father: Yes".to_string());
        }
    }
    if let Some(v) = item.has_general_all {
        if v {
            lines.push("  Has General All: Yes".to_string());
        }
    }
    if let Some(v) = item.has_general_prereq {
        if v {
            lines.push("  Has General Prereq: Yes".to_string());
        }
    }
    if let Some(v) = item.has_governor_all {
        if v {
            lines.push("  Has Governor All: Yes".to_string());
        }
    }
    if let Some(v) = item.has_governor_prereq {
        if v {
            lines.push("  Has Governor Prereq: Yes".to_string());
        }
    }
    if let Some(v) = item.has_items {
        if v {
            lines.push("  Has Items: Yes".to_string());
        }
    }
    if let Some(v) = item.has_mother {
        if v {
            lines.push("  Has Mother: Yes".to_string());
        }
    }
    if let Some(v) = item.has_name {
        if v {
            lines.push("  Has Name: Yes".to_string());
        }
    }
    if let Some(v) = item.has_nation {
        if v {
            lines.push("  Has Nation: Yes".to_string());
        }
    }
    if let Some(v) = item.has_nickname {
        if v {
            lines.push("  Has Nickname: Yes".to_string());
        }
    }
    if let Some(v) = item.has_player {
        if v {
            lines.push("  Has Player: Yes".to_string());
        }
    }
    if !item.has_relationship_types.is_empty() {
        lines.push("  Has Relationship Types:".to_string());
        for (k, v) in &item.has_relationship_types {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.has_religion {
        if v {
            lines.push("  Has Religion: Yes".to_string());
        }
    }
    if let Some(v) = item.has_spouse_alive {
        if v {
            lines.push("  Has Spouse Alive: Yes".to_string());
        }
    }
    if let Some(v) = item.has_spouse_foreign {
        if v {
            lines.push("  Has Spouse Foreign: Yes".to_string());
        }
    }
    if let Some(v) = item.has_spouse_tribe {
        if v {
            lines.push("  Has Spouse Tribe: Yes".to_string());
        }
    }
    if let Some(v) = item.has_title {
        if v {
            lines.push("  Has Title: Yes".to_string());
        }
    }
    if let Some(v) = item.has_trait_die_prob {
        if v {
            lines.push("  Has Trait Die Prob: Yes".to_string());
        }
    }
    if let Some(v) = item.has_trait_doomed {
        if v {
            lines.push("  Has Trait Doomed: Yes".to_string());
        }
    }
    if let Some(v) = item.has_trait_former_regent {
        if v {
            lines.push("  Has Trait Former Regent: Yes".to_string());
        }
    }
    if !item.has_trait_locked_religions.is_empty() {
        lines.push("  Has Trait Locked Religions:".to_string());
        for (k, v) in &item.has_trait_locked_religions {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.has_trait_no_birth {
        if v {
            lines.push("  Has Trait No Birth: Yes".to_string());
        }
    }
    if let Some(v) = item.has_trait_no_council {
        if v {
            lines.push("  Has Trait No Council: Yes".to_string());
        }
    }
    if let Some(v) = item.has_trait_no_courtier {
        if v {
            lines.push("  Has Trait No Courtier: Yes".to_string());
        }
    }
    if let Some(v) = item.has_trait_no_events {
        if v {
            lines.push("  Has Trait No Events: Yes".to_string());
        }
    }
    if let Some(v) = item.has_trait_no_explorer {
        if v {
            lines.push("  Has Trait No Explorer: Yes".to_string());
        }
    }
    if let Some(v) = item.has_trait_no_family_head {
        if v {
            lines.push("  Has Trait No Family Head: Yes".to_string());
        }
    }
    if let Some(v) = item.has_trait_no_general {
        if v {
            lines.push("  Has Trait No General: Yes".to_string());
        }
    }
    if let Some(v) = item.has_trait_no_governor {
        if v {
            lines.push("  Has Trait No Governor: Yes".to_string());
        }
    }
    if let Some(v) = item.has_trait_no_job {
        if v {
            lines.push("  Has Trait No Job: Yes".to_string());
        }
    }
    if let Some(v) = item.has_trait_no_marry {
        if v {
            lines.push("  Has Trait No Marry: Yes".to_string());
        }
    }
    if let Some(v) = item.has_trait_no_religion {
        if v {
            lines.push("  Has Trait No Religion: Yes".to_string());
        }
    }
    if let Some(v) = item.has_trait_no_religion_head_new {
        if v {
            lines.push("  Has Trait No Religion Head New: Yes".to_string());
        }
    }
    if let Some(v) = item.has_trait_no_succession {
        if v {
            lines.push("  Has Trait No Succession: Yes".to_string());
        }
    }
    if let Some(v) = item.has_trait_regent {
        if v {
            lines.push("  Has Trait Regent: Yes".to_string());
        }
    }
    if !item.has_trait_religion_opinions.is_empty() {
        lines.push("  Has Trait Religion Opinions:".to_string());
        for (k, v) in &item.has_trait_religion_opinions {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.has_trait_replacess.is_empty() {
        lines.push("  Has Trait Replacess:".to_string());
        for (k, v) in &item.has_trait_replacess {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.has_trait_succession_bypass {
        if v {
            lines.push("  Has Trait Succession Bypass: Yes".to_string());
        }
    }
    if let Some(v) = item.has_trait_succession_return {
        if v {
            lines.push("  Has Trait Succession Return: Yes".to_string());
        }
    }
    if let Some(v) = item.has_unit {
        if v {
            lines.push("  Has Unit: Yes".to_string());
        }
    }
    if let Some(v) = &item.head_religion {
        lines.push(format!("  Head Religion: {}", shorten_type(v)));
    }
    if let Some(v) = item.id {
        lines.push(format!("  Id: {}", v));
    }
    if let Some(v) = item.is_abdicated {
        if v {
            lines.push("  Is Abdicated: Yes".to_string());
        }
    }
    if let Some(v) = item.is_active_player {
        if v {
            lines.push("  Is Active Player: Yes".to_string());
        }
    }
    if let Some(v) = item.is_adult {
        if v {
            lines.push("  Is Adult: Yes".to_string());
        }
    }
    if let Some(v) = item.is_ageless {
        if v {
            lines.push("  Is Ageless: Yes".to_string());
        }
    }
    if let Some(v) = item.is_alive {
        if v {
            lines.push("  Is Alive: Yes".to_string());
        }
    }
    if let Some(v) = item.is_any_dirty {
        if v {
            lines.push("  Is Any Dirty: Yes".to_string());
        }
    }
    if let Some(v) = item.is_attracted_to_any {
        if v {
            lines.push("  Is Attracted To Any: Yes".to_string());
        }
    }
    if let Some(v) = item.is_bisexual {
        if v {
            lines.push("  Is Bisexual: Yes".to_string());
        }
    }
    if let Some(v) = item.is_city_agent {
        if v {
            lines.push("  Is City Agent: Yes".to_string());
        }
    }
    if let Some(v) = item.is_city_governor {
        if v {
            lines.push("  Is City Governor: Yes".to_string());
        }
    }
    if let Some(v) = item.is_clergy {
        if v {
            lines.push("  Is Clergy: Yes".to_string());
        }
    }
    if let Some(v) = item.is_council {
        if v {
            lines.push("  Is Council: Yes".to_string());
        }
    }
    if let Some(v) = item.is_courtier {
        if v {
            lines.push("  Is Courtier: Yes".to_string());
        }
    }
    if let Some(v) = item.is_dead {
        if v {
            lines.push("  Is Dead: Yes".to_string());
        }
    }
    if let Some(v) = item.is_family_head {
        if v {
            lines.push("  Is Family Head: Yes".to_string());
        }
    }
    if let Some(v) = item.is_family_head_spouse {
        if v {
            lines.push("  Is Family Head Spouse: Yes".to_string());
        }
    }
    if let Some(v) = item.is_female {
        if v {
            lines.push("  Is Female: Yes".to_string());
        }
    }
    if let Some(v) = item.is_fertile_age {
        if v {
            lines.push("  Is Fertile Age: Yes".to_string());
        }
    }
    if let Some(v) = item.is_force_inheritance_tree_include {
        if v {
            lines.push("  Is Force Inheritance Tree Include: Yes".to_string());
        }
    }
    if let Some(v) = item.is_gay {
        if v {
            lines.push("  Is Gay: Yes".to_string());
        }
    }
    if let Some(v) = item.is_heir {
        if v {
            lines.push("  Is Heir: Yes".to_string());
        }
    }
    if let Some(v) = item.is_heir_spouse {
        if v {
            lines.push("  Is Heir Spouse: Yes".to_string());
        }
    }
    if let Some(v) = item.is_human {
        if v {
            lines.push("  Is Human: Yes".to_string());
        }
    }
    if let Some(v) = item.is_infertile {
        if v {
            lines.push("  Is Infertile: Yes".to_string());
        }
    }
    if let Some(v) = item.is_job {
        if v {
            lines.push("  Is Job: Yes".to_string());
        }
    }
    if !item.is_jobs.is_empty() {
        lines.push("  Is Jobs:".to_string());
        for (k, v) in &item.is_jobs {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_leader {
        if v {
            lines.push("  Is Leader: Yes".to_string());
        }
    }
    if let Some(v) = item.is_leader_ancestor {
        if v {
            lines.push("  Is Leader Ancestor: Yes".to_string());
        }
    }
    if let Some(v) = item.is_leader_any_sibling {
        if v {
            lines.push("  Is Leader Any Sibling: Yes".to_string());
        }
    }
    if let Some(v) = item.is_leader_child {
        if v {
            lines.push("  Is Leader Child: Yes".to_string());
        }
    }
    if let Some(v) = item.is_leader_descendant {
        if v {
            lines.push("  Is Leader Descendant: Yes".to_string());
        }
    }
    if let Some(v) = item.is_leader_or_child_of_leader {
        if v {
            lines.push("  Is Leader Or Child Of Leader: Yes".to_string());
        }
    }
    if let Some(v) = item.is_leader_or_descendant {
        if v {
            lines.push("  Is Leader Or Descendant: Yes".to_string());
        }
    }
    if let Some(v) = item.is_leader_or_heir {
        if v {
            lines.push("  Is Leader Or Heir: Yes".to_string());
        }
    }
    if let Some(v) = item.is_leader_or_spouse {
        if v {
            lines.push("  Is Leader Or Spouse: Yes".to_string());
        }
    }
    if let Some(v) = item.is_leader_or_spouse_or_heir {
        if v {
            lines.push("  Is Leader Or Spouse Or Heir: Yes".to_string());
        }
    }
    if let Some(v) = item.is_leader_or_spouse_or_successor {
        if v {
            lines.push("  Is Leader Or Spouse Or Successor: Yes".to_string());
        }
    }
    if let Some(v) = item.is_leader_or_successor {
        if v {
            lines.push("  Is Leader Or Successor: Yes".to_string());
        }
    }
    if let Some(v) = item.is_leader_spouse {
        if v {
            lines.push("  Is Leader Spouse: Yes".to_string());
        }
    }
    if let Some(v) = item.is_male {
        if v {
            lines.push("  Is Male: Yes".to_string());
        }
    }
    if let Some(v) = item.is_or_was_leader {
        if v {
            lines.push("  Is Or Was Leader: Yes".to_string());
        }
    }
    if let Some(v) = item.is_or_was_leader_spouse {
        if v {
            lines.push("  Is Or Was Leader Spouse: Yes".to_string());
        }
    }
    if let Some(v) = item.is_or_was_regent {
        if v {
            lines.push("  Is Or Was Regent: Yes".to_string());
        }
    }
    if let Some(v) = item.is_regent {
        if v {
            lines.push("  Is Regent: Yes".to_string());
        }
    }
    if !item.is_religion_agents.is_empty() {
        lines.push("  Is Religion Agents:".to_string());
        for (k, v) in &item.is_religion_agents {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_religion_head {
        if v {
            lines.push("  Is Religion Head: Yes".to_string());
        }
    }
    if let Some(v) = item.is_retired {
        if v {
            lines.push("  Is Retired: Yes".to_string());
        }
    }
    if let Some(v) = item.is_royal {
        if v {
            lines.push("  Is Royal: Yes".to_string());
        }
    }
    if let Some(v) = item.is_royal_spouse {
        if v {
            lines.push("  Is Royal Spouse: Yes".to_string());
        }
    }
    if let Some(v) = item.is_safe {
        if v {
            lines.push("  Is Safe: Yes".to_string());
        }
    }
    if let Some(v) = item.is_spouse_leader_descendant {
        if v {
            lines.push("  Is Spouse Leader Descendant: Yes".to_string());
        }
    }
    if let Some(v) = item.is_succession_skip_regent {
        if v {
            lines.push("  Is Succession Skip Regent: Yes".to_string());
        }
    }
    if let Some(v) = item.is_successor {
        if v {
            lines.push("  Is Successor: Yes".to_string());
        }
    }
    if let Some(v) = item.is_successor_parent {
        if v {
            lines.push("  Is Successor Parent: Yes".to_string());
        }
    }
    if let Some(v) = item.is_successor_spouse {
        if v {
            lines.push("  Is Successor Spouse: Yes".to_string());
        }
    }
    if let Some(v) = item.is_temporary {
        if v {
            lines.push("  Is Temporary: Yes".to_string());
        }
    }
    if !item.is_traits.is_empty() {
        lines.push("  Is Traits:".to_string());
        for (k, v) in &item.is_traits {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_tribe {
        if v {
            lines.push("  Is Tribe: Yes".to_string());
        }
    }
    if let Some(v) = item.is_tribe_leader {
        if v {
            lines.push("  Is Tribe Leader: Yes".to_string());
        }
    }
    if let Some(v) = item.is_unit_explorer {
        if v {
            lines.push("  Is Unit Explorer: Yes".to_string());
        }
    }
    if let Some(v) = item.is_unit_general {
        if v {
            lines.push("  Is Unit General: Yes".to_string());
        }
    }
    if let Some(v) = item.is_valid_choose_name {
        if v {
            lines.push("  Is Valid Choose Name: Yes".to_string());
        }
    }
    if let Some(v) = &item.job {
        lines.push(format!("  Job: {}", shorten_type(v)));
    }
    if !item.job_opinions.is_empty() {
        lines.push("  Job Opinions:".to_string());
        for (k, v) in &item.job_opinions {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.leader_index {
        lines.push(format!("  Leader Index: {}", v));
    }
    if let Some(v) = item.leader_turn {
        lines.push(format!("  Leader Turn: {}", v));
    }
    if let Some(v) = item.legitimacy {
        lines.push(format!("  Legitimacy: {}", v));
    }
    if let Some(v) = item.level {
        lines.push(format!("  Level: {}", v));
    }
    if let Some(v) = item.make_agent_extra_opinion {
        lines.push(format!("  Make Agent Extra Opinion: {}", v));
    }
    if !item.make_council_extra_opinions.is_empty() {
        lines.push("  Make Council Extra Opinions:".to_string());
        for (k, v) in &item.make_council_extra_opinions {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.make_explorer_extra_opinion {
        lines.push(format!("  Make Explorer Extra Opinion: {}", v));
    }
    if let Some(v) = item.make_general_extra_opinion {
        lines.push(format!("  Make General Extra Opinion: {}", v));
    }
    if let Some(v) = item.make_governor_extra_opinion {
        lines.push(format!("  Make Governor Extra Opinion: {}", v));
    }
    if let Some(v) = item.max_strengths {
        lines.push(format!("  Max Strengths: {}", v));
    }
    if let Some(v) = item.max_weaknesses {
        lines.push(format!("  Max Weaknesses: {}", v));
    }
    if let Some(v) = item.mother_id {
        lines.push(format!("  Mother ID: {}", v));
    }
    if let Some(v) = &item.name_type {
        lines.push(format!("  Name Type: {}", shorten_type(v)));
    }
    if let Some(v) = &item.nation {
        lines.push(format!("  Nation: {}", shorten_type(v)));
    }
    if !item.nation_ethnicitys.is_empty() {
        lines.push("  Nation Ethnicitys:".to_string());
        for (k, v) in &item.nation_ethnicitys {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.nation_turn {
        lines.push(format!("  Nation Turn: {}", v));
    }
    if let Some(v) = &item.nickname {
        lines.push(format!("  Nickname: {}", v));
    }
    if let Some(v) = &item.nickname_text {
        lines.push(format!("  Nickname Text: {}", v));
    }
    if let Some(v) = item.num_children {
        lines.push(format!("  Num Children: {}", v));
    }
    if let Some(v) = item.num_event_story_texts {
        lines.push(format!("  Num Event Story Texts: {}", v));
    }
    if let Some(v) = item.num_event_story_turns {
        lines.push(format!("  Num Event Story Turns: {}", v));
    }
    if let Some(v) = item.num_spouses {
        lines.push(format!("  Num Spouses: {}", v));
    }
    if !item.opinions.is_empty() {
        lines.push("  Opinions:".to_string());
        for (k, v) in &item.opinions {
            lines.push(format!("    {}: {:?}", shorten_type(k), v));
        }
    }
    if let Some(v) = &item.player {
        lines.push(format!("  Player: {}", v));
    }
    if let Some(v) = item.player_int {
        lines.push(format!("  Player Int: {}", v));
    }
    if let Some(v) = &item.player_opinion_of_character_religion {
        lines.push(format!("  Player Opinion Of Character Religion: {}", shorten_type(v)));
    }
    if !item.random_trait_delay.is_empty() {
        let items: Vec<String> = item.random_trait_delay.iter().map(|s| shorten_type(s)).collect();
        lines.push(format!("  Random Trait Delay: {}", items.join(", ")));
    }
    if let Some(v) = item.rating_attack_modifier_total {
        lines.push(format!("  Rating Attack Modifier Total: {}", v));
    }
    if let Some(v) = item.rating_critical_chance_total {
        lines.push(format!("  Rating Critical Chance Total: {}", v));
    }
    if let Some(v) = item.rating_harvest_modifier_total {
        lines.push(format!("  Rating Harvest Modifier Total: {}", v));
    }
    if let Some(v) = item.rating_unit_xp_total {
        lines.push(format!("  Rating Unit XP Total: {}", v));
    }
    if !item.rating_yield_rate_agent_totals.is_empty() {
        lines.push("  Rating Yield Rate Agent Totals:".to_string());
        for (k, v) in &item.rating_yield_rate_agent_totals {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.ratings.is_empty() {
        lines.push("  Ratings:".to_string());
        for (k, v) in &item.ratings {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.regent_turn {
        lines.push(format!("  Regent Turn: {}", v));
    }
    if !item.relationships.is_empty() {
        lines.push(format!("  Relationships: {} items", item.relationships.len()));
    }
    if let Some(v) = &item.religion {
        lines.push(format!("  Religion: {}", shorten_type(v)));
    }
    if let Some(v) = item.safe_turn {
        lines.push(format!("  Safe Turn: {}", v));
    }
    if !item.spouse_ids.is_empty() {
        let items: Vec<String> = item.spouse_ids.iter().map(|v| v.to_string()).collect();
        lines.push(format!("  Spouse Ids: {}", items.join(", ")));
    }
    if let Some(v) = item.suffix {
        lines.push(format!("  Suffix: {}", v));
    }
    if let Some(v) = &item.team {
        lines.push(format!("  Team: {}", v));
    }
    if let Some(v) = &item.title {
        lines.push(format!("  Title: {}", v));
    }
    if let Some(v) = item.trait_birth_modifier {
        lines.push(format!("  Trait Birth Modifier: {}", v));
    }
    if let Some(v) = &item.trait_nickname {
        lines.push(format!("  Trait Nickname: {}", shorten_type(v)));
    }
    if !item.trait_prob_delay.is_empty() {
        let items: Vec<String> = item.trait_prob_delay.iter().map(|s| shorten_type(s)).collect();
        lines.push(format!("  Trait Prob Delay: {}", items.join(", ")));
    }
    if let Some(v) = &item.trait_title {
        lines.push(format!("  Trait Title: {}", shorten_type(v)));
    }
    if !item.trait_turn_lengths.is_empty() {
        lines.push("  Trait Turn Lengths:".to_string());
        for (k, v) in &item.trait_turn_lengths {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.trait_turns.is_empty() {
        lines.push("  Trait Turns:".to_string());
        for (k, v) in &item.trait_turns {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.traits.is_empty() {
        let items: Vec<String> = item.traits.iter().map(|s| shorten_type(s)).collect();
        lines.push(format!("  Traits: {}", items.join(", ")));
    }
    if let Some(v) = &item.tribe {
        lines.push(format!("  Tribe: {}", shorten_type(v)));
    }
    if !item.tribe_ethnicitys.is_empty() {
        lines.push("  Tribe Ethnicitys:".to_string());
        for (k, v) in &item.tribe_ethnicitys {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.unit_build_modifier {
        lines.push(format!("  Unit Build Modifier: {}", v));
    }
    if let Some(v) = item.unit_id {
        lines.push(format!("  Unit ID: {}", v));
    }
    if let Some(v) = item.upgrade_xp_threshold {
        lines.push(format!("  Upgrade XP Threshold: {}", v));
    }
    if let Some(v) = &item.was_family_head {
        lines.push(format!("  Was Family Head: {}", shorten_type(v)));
    }
    if let Some(v) = &item.was_religion_head {
        lines.push(format!("  Was Religion Head: {}", shorten_type(v)));
    }
    if let Some(v) = item.xp {
        lines.push(format!("  Xp: {}", v));
    }
    if !item.yield_rate_courtiers.is_empty() {
        lines.push("  Yield Rate Courtiers:".to_string());
        for (k, v) in &item.yield_rate_courtiers {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.yield_rate_leader_spouses.is_empty() {
        lines.push("  Yield Rate Leader Spouses:".to_string());
        for (k, v) in &item.yield_rate_leader_spouses {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.yield_rate_leaders.is_empty() {
        lines.push("  Yield Rate Leaders:".to_string());
        for (k, v) in &item.yield_rate_leaders {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.yield_rate_successors.is_empty() {
        lines.push("  Yield Rate Successors:".to_string());
        for (k, v) in &item.yield_rate_successors {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }

    lines.join("\n")
}

/// Format a list of characters (all fields for each)
pub fn format_characters(items: &[types::Character]) -> String {
    if items.is_empty() {
        return "No characters found".to_string();
    }

    items
        .iter()
        .map(|item| format_character(item))
        .collect::<Vec<_>>()
        .join("\n\n")
}

/// Format a list of character events (all fields for each)
pub fn format_character_events(items: &[types::CharacterEvent]) -> String {
    if items.is_empty() {
        return "No character events found".to_string();
    }

    items
        .iter()
        .map(|item| {
            let mut lines = Vec::new();
            lines.push("CharacterEvent".to_string());
            if let Some(v) = item.character_id {
                lines.push(format!("  Character Id: {}", v));
            }
            if let Some(v) = &item.death_reason {
                lines.push(format!("  Death Reason: {}", v));
            }
            if let Some(v) = &item.event_type {
                lines.push(format!("  Event Type: {:?}", v));
            }
            if let Some(v) = item.new_heir_id {
                lines.push(format!("  New Heir Id: {}", v));
            }
            if let Some(v) = item.new_leader_id {
                lines.push(format!("  New Leader Id: {}", v));
            }
            if !item.parent_ids.is_empty() {
                let vals: Vec<String> = item.parent_ids.iter().map(|v| v.to_string()).collect();
                lines.push(format!("  Parent Ids: {}", vals.join(", ")));
            }
            if let Some(v) = item.player_id {
                lines.push(format!("  Player Id: {}", v));
            }
            lines.join("\n")
        })
        .collect::<Vec<_>>()
        .join("\n\n")
}

/// Format a single City for display (all fields)
pub fn format_city(item: &types::City) -> String {
    let mut lines = Vec::new();

    lines.push("City".to_string());

    if !item.active_effect_city.is_empty() {
        let items: Vec<String> = item.active_effect_city.iter().map(|s| shorten_type(s)).collect();
        lines.push(format!("  Active Effect City: {}", items.join(", ")));
    }
    if let Some(v) = item.active_improvement_class_count_all {
        lines.push(format!("  Active Improvement Class Count All: {}", v));
    }
    if !item.active_improvement_class_counts.is_empty() {
        lines.push("  Active Improvement Class Counts:".to_string());
        for (k, v) in &item.active_improvement_class_counts {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.active_improvement_count_all {
        lines.push(format!("  Active Improvement Count All: {}", v));
    }
    if !item.active_improvement_counts.is_empty() {
        lines.push("  Active Improvement Counts:".to_string());
        for (k, v) in &item.active_improvement_counts {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.adjacent_class_cost_modifier {
        lines.push(format!("  Adjacent Class Cost Modifier: {}", v));
    }
    if let Some(v) = item.assimilate_turns {
        lines.push(format!("  Assimilate Turns: {}", v));
    }
    if !item.assimilate_yield_modifiers.is_empty() {
        lines.push("  Assimilate Yield Modifiers:".to_string());
        for (k, v) in &item.assimilate_yield_modifiers {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.base_yield_nets.is_empty() {
        lines.push("  Base Yield Nets:".to_string());
        for (k, v) in &item.base_yield_nets {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.build_count {
        lines.push(format!("  Build Count: {}", v));
    }
    if !item.build_queue.is_empty() {
        lines.push(format!("  Build Queue: {} items", item.build_queue.len()));
    }
    if let Some(v) = item.build_turn_change {
        lines.push(format!("  Build Turn Change: {}", v));
    }
    if let Some(v) = &item.build_unit_family {
        lines.push(format!("  Build Unit Family: {}", shorten_type(v)));
    }
    if !item.build_unit_levelss.is_empty() {
        lines.push("  Build Unit Levelss:".to_string());
        for (k, v) in &item.build_unit_levelss {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.build_unit_x_ps.is_empty() {
        lines.push("  Build Unit X Ps:".to_string());
        for (k, v) in &item.build_unit_x_ps {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.buy_tile_count {
        lines.push(format!("  Buy Tile Count: {}", v));
    }
    if let Some(v) = &item.capture_player {
        lines.push(format!("  Capture Player: {}", v));
    }
    if let Some(v) = &item.capture_team {
        lines.push(format!("  Capture Team: {}", v));
    }
    if let Some(v) = item.capture_threshold {
        lines.push(format!("  Capture Threshold: {}", v));
    }
    if let Some(v) = &item.capture_tribe {
        lines.push(format!("  Capture Tribe: {}", shorten_type(v)));
    }
    if let Some(v) = item.capture_turns {
        lines.push(format!("  Capture Turns: {}", v));
    }
    if let Some(v) = item.citizens {
        lines.push(format!("  Citizens: {}", v));
    }
    if let Some(v) = item.citizens_plus_queued_with_no_progress {
        lines.push(format!("  Citizens Plus Queued With No Progress: {}", v));
    }
    if let Some(v) = item.citizens_queue {
        lines.push(format!("  Citizens Queue: {}", v));
    }
    if let Some(v) = item.citizens_total {
        lines.push(format!("  Citizens Total: {}", v));
    }
    if let Some(v) = &item.city_site {
        lines.push(format!("  City Site: {}", v));
    }
    if let Some(v) = &item.completed_build {
        lines.push(format!("  Completed Build: {}", v));
    }
    if let Some(v) = &item.culture {
        lines.push(format!("  Culture: {}", v));
    }
    if let Some(v) = item.culture_step {
        lines.push(format!("  Culture Step: {}", v));
    }
    if item.current_build.is_some() {
        lines.push("  Current Build: (nested BuildQueueItem)".to_string());
    }
    if let Some(v) = &item.current_build_type {
        lines.push(format!("  Current Build Type: {}", shorten_type(v)));
    }
    if let Some(v) = item.damage {
        lines.push(format!("  Damage: {}", v));
    }
    if !item.damage_yield_modifiers.is_empty() {
        lines.push("  Damage Yield Modifiers:".to_string());
        for (k, v) in &item.damage_yield_modifiers {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.default_governor_id {
        lines.push(format!("  Default Governor ID: {}", v));
    }
    if !item.excess_overflows.is_empty() {
        lines.push("  Excess Overflows:".to_string());
        for (k, v) in &item.excess_overflows {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = &item.family {
        lines.push(format!("  Family: {}", shorten_type(v)));
    }
    if let Some(v) = &item.family_class {
        lines.push(format!("  Family Class: {}", shorten_type(v)));
    }
    if let Some(v) = &item.family_opinion {
        lines.push(format!("  Family Opinion: {}", shorten_type(v)));
    }
    if let Some(v) = &item.first_player {
        lines.push(format!("  First Player: {}", v));
    }
    if let Some(v) = &item.first_team {
        lines.push(format!("  First Team: {}", v));
    }
    if let Some(v) = item.founded_turn {
        lines.push(format!("  Founded Turn: {}", v));
    }
    if let Some(v) = item.gifted_turn {
        lines.push(format!("  Gifted Turn: {}", v));
    }
    if let Some(v) = item.governor_id {
        lines.push(format!("  Governor ID: {}", v));
    }
    if let Some(v) = &item.grammatical_gender {
        lines.push(format!("  Grammatical Gender: {}", v));
    }
    if let Some(v) = item.growth_count {
        lines.push(format!("  Growth Count: {}", v));
    }
    if let Some(v) = item.happiness_level {
        lines.push(format!("  Happiness Level: {}", v));
    }
    if !item.happiness_level_yield_modifiers.is_empty() {
        lines.push("  Happiness Level Yield Modifiers:".to_string());
        for (k, v) in &item.happiness_level_yield_modifiers {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.has_any_agent_character {
        if v {
            lines.push("  Has Any Agent Character: Yes".to_string());
        }
    }
    if let Some(v) = item.has_autobuild_queued {
        if v {
            lines.push("  Has Autobuild Queued: Yes".to_string());
        }
    }
    if let Some(v) = item.has_build {
        if v {
            lines.push("  Has Build: Yes".to_string());
        }
    }
    if let Some(v) = item.has_build_any_religion_unit_unlock {
        if v {
            lines.push("  Has Build Any Religion Unit Unlock: Yes".to_string());
        }
    }
    if let Some(v) = item.has_build_planned {
        if v {
            lines.push("  Has Build Planned: Yes".to_string());
        }
    }
    if let Some(v) = item.has_capture_player {
        if v {
            lines.push("  Has Capture Player: Yes".to_string());
        }
    }
    if let Some(v) = item.has_capture_tribe {
        if v {
            lines.push("  Has Capture Tribe: Yes".to_string());
        }
    }
    if let Some(v) = item.has_completed_build {
        if v {
            lines.push("  Has Completed Build: Yes".to_string());
        }
    }
    if let Some(v) = item.has_default_governor {
        if v {
            lines.push("  Has Default Governor: Yes".to_string());
        }
    }
    if let Some(v) = item.has_family {
        if v {
            lines.push("  Has Family: Yes".to_string());
        }
    }
    if let Some(v) = item.has_family_opinion {
        if v {
            lines.push("  Has Family Opinion: Yes".to_string());
        }
    }
    if let Some(v) = item.has_governor {
        if v {
            lines.push("  Has Governor: Yes".to_string());
        }
    }
    if let Some(v) = item.has_last_player {
        if v {
            lines.push("  Has Last Player: Yes".to_string());
        }
    }
    if let Some(v) = item.has_last_tribe {
        if v {
            lines.push("  Has Last Tribe: Yes".to_string());
        }
    }
    if let Some(v) = item.has_nation {
        if v {
            lines.push("  Has Nation: Yes".to_string());
        }
    }
    if let Some(v) = item.has_player {
        if v {
            lines.push("  Has Player: Yes".to_string());
        }
    }
    if !item.has_projects.is_empty() {
        lines.push("  Has Projects:".to_string());
        for (k, v) in &item.has_projects {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.has_rebel_effects {
        if v {
            lines.push("  Has Rebel Effects: Yes".to_string());
        }
    }
    if let Some(v) = item.has_state_religion {
        if v {
            lines.push("  Has State Religion: Yes".to_string());
        }
    }
    if let Some(v) = item.heal_extra {
        lines.push(format!("  Heal Extra: {}", v));
    }
    if !item.holy_city.is_empty() {
        lines.push(format!("  Holy City: {}", item.holy_city.join(", ")));
    }
    if let Some(v) = item.hp {
        lines.push(format!("  Hp: {}", v));
    }
    if let Some(v) = item.hp_max {
        lines.push(format!("  Hp Max: {}", v));
    }
    if let Some(v) = item.hp_max_extra {
        lines.push(format!("  Hp Max Extra: {}", v));
    }
    if let Some(v) = item.hurry_civics_cost {
        lines.push(format!("  Hurry Civics Cost: {}", v));
    }
    if let Some(v) = item.hurry_civics_count {
        lines.push(format!("  Hurry Civics Count: {}", v));
    }
    if let Some(v) = item.hurry_discontent {
        lines.push(format!("  Hurry Discontent: {}", v));
    }
    if let Some(v) = item.hurry_discontent_modifier {
        lines.push(format!("  Hurry Discontent Modifier: {}", v));
    }
    if let Some(v) = item.hurry_money_cost {
        lines.push(format!("  Hurry Money Cost: {}", v));
    }
    if let Some(v) = item.hurry_money_count {
        lines.push(format!("  Hurry Money Count: {}", v));
    }
    if let Some(v) = item.hurry_orders_cost {
        lines.push(format!("  Hurry Orders Cost: {}", v));
    }
    if let Some(v) = item.hurry_orders_count {
        lines.push(format!("  Hurry Orders Count: {}", v));
    }
    if let Some(v) = item.hurry_population_cost {
        lines.push(format!("  Hurry Population Cost: {}", v));
    }
    if let Some(v) = item.hurry_population_count {
        lines.push(format!("  Hurry Population Count: {}", v));
    }
    if let Some(v) = item.hurry_training_cost {
        lines.push(format!("  Hurry Training Cost: {}", v));
    }
    if let Some(v) = item.hurry_training_count {
        lines.push(format!("  Hurry Training Count: {}", v));
    }
    if let Some(v) = item.id {
        lines.push(format!("  Id: {}", v));
    }
    if !item.improvement_class_cost_modifiers.is_empty() {
        lines.push("  Improvement Class Cost Modifiers:".to_string());
        for (k, v) in &item.improvement_class_cost_modifiers {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.improvement_class_counts.is_empty() {
        lines.push("  Improvement Class Counts:".to_string());
        for (k, v) in &item.improvement_class_counts {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.improvement_class_develop_changes.is_empty() {
        lines.push("  Improvement Class Develop Changes:".to_string());
        for (k, v) in &item.improvement_class_develop_changes {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.improvement_class_modifiers.is_empty() {
        lines.push("  Improvement Class Modifiers:".to_string());
        for (k, v) in &item.improvement_class_modifiers {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.improvement_classes.is_empty() {
        lines.push("  Improvement Classes:".to_string());
        for (k, v) in &item.improvement_classes {
            lines.push(format!("    {}: {:?}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.improvement_cost_modifier {
        lines.push(format!("  Improvement Cost Modifier: {}", v));
    }
    if !item.improvement_counts.is_empty() {
        lines.push("  Improvement Counts:".to_string());
        for (k, v) in &item.improvement_counts {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.improvement_modifiers.is_empty() {
        lines.push("  Improvement Modifiers:".to_string());
        for (k, v) in &item.improvement_modifiers {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.improvement_river_modifiers.is_empty() {
        lines.push("  Improvement River Modifiers:".to_string());
        for (k, v) in &item.improvement_river_modifiers {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.improvements.is_empty() {
        lines.push("  Improvements:".to_string());
        for (k, v) in &item.improvements {
            lines.push(format!("    {}: {:?}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.is_active_player {
        if v {
            lines.push("  Is Active Player: Yes".to_string());
        }
    }
    if let Some(v) = item.is_any_dirty {
        if v {
            lines.push("  Is Any Dirty: Yes".to_string());
        }
    }
    if let Some(v) = item.is_automated {
        if v {
            lines.push("  Is Automated: Yes".to_string());
        }
    }
    if !item.is_banned_religion_spreads.is_empty() {
        lines.push("  Is Banned Religion Spreads:".to_string());
        for (k, v) in &item.is_banned_religion_spreads {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_build_no_hurry {
        if v {
            lines.push("  Is Build No Hurry: Yes".to_string());
        }
    }
    if let Some(v) = item.is_capital {
        if v {
            lines.push("  Is Capital: Yes".to_string());
        }
    }
    if let Some(v) = item.is_captured_capital {
        if v {
            lines.push("  Is Captured Capital: Yes".to_string());
        }
    }
    if let Some(v) = item.is_connected {
        if v {
            lines.push("  Is Connected: Yes".to_string());
        }
    }
    if let Some(v) = item.is_damaged {
        if v {
            lines.push("  Is Damaged: Yes".to_string());
        }
    }
    if let Some(v) = item.is_default_governor_ruling {
        if v {
            lines.push("  Is Default Governor Ruling: Yes".to_string());
        }
    }
    if let Some(v) = item.is_family_seat {
        if v {
            lines.push("  Is Family Seat: Yes".to_string());
        }
    }
    if let Some(v) = item.is_governed {
        if v {
            lines.push("  Is Governed: Yes".to_string());
        }
    }
    if let Some(v) = item.is_governor_leader {
        if v {
            lines.push("  Is Governor Leader: Yes".to_string());
        }
    }
    if let Some(v) = item.is_human {
        if v {
            lines.push("  Is Human: Yes".to_string());
        }
    }
    if let Some(v) = item.is_idle {
        if v {
            lines.push("  Is Idle: Yes".to_string());
        }
    }
    if !item.is_luxurys.is_empty() {
        lines.push("  Is Luxurys:".to_string());
        for (k, v) in &item.is_luxurys {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.is_no_improvement_class_max_unlocks.is_empty() {
        lines.push("  Is No Improvement Class Max Unlocks:".to_string());
        for (k, v) in &item.is_no_improvement_class_max_unlocks {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_religion_holy_city_any {
        if v {
            lines.push("  Is Religion Holy City Any: Yes".to_string());
        }
    }
    if !item.is_religion_holy_citys.is_empty() {
        lines.push("  Is Religion Holy Citys:".to_string());
        for (k, v) in &item.is_religion_holy_citys {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.is_religion_spread_eligibles.is_empty() {
        lines.push("  Is Religion Spread Eligibles:".to_string());
        for (k, v) in &item.is_religion_spread_eligibles {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.is_religions.is_empty() {
        lines.push("  Is Religions:".to_string());
        for (k, v) in &item.is_religions {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.is_specialist_no_prereqs.is_empty() {
        lines.push("  Is Specialist No Prereqs:".to_string());
        for (k, v) in &item.is_specialist_no_prereqs {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_tribe {
        if v {
            lines.push("  Is Tribe: Yes".to_string());
        }
    }
    if let Some(v) = item.is_unit_capturing_city {
        if v {
            lines.push("  Is Unit Capturing City: Yes".to_string());
        }
    }
    if !item.is_unit_spawn_possibles.is_empty() {
        lines.push("  Is Unit Spawn Possibles:".to_string());
        for (k, v) in &item.is_unit_spawn_possibles {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_vulnerable {
        if v {
            lines.push("  Is Vulnerable: Yes".to_string());
        }
    }
    if !item.is_yield_build_currents.is_empty() {
        lines.push("  Is Yield Build Currents:".to_string());
        for (k, v) in &item.is_yield_build_currents {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_yield_rate_defending_any {
        if v {
            lines.push("  Is Yield Rate Defending Any: Yes".to_string());
        }
    }
    if let Some(v) = &item.last_player {
        lines.push(format!("  Last Player: {}", v));
    }
    if let Some(v) = &item.last_team {
        lines.push(format!("  Last Team: {}", v));
    }
    if let Some(v) = &item.last_tribe {
        lines.push(format!("  Last Tribe: {}", shorten_type(v)));
    }
    if let Some(v) = item.luxury_count {
        lines.push(format!("  Luxury Count: {}", v));
    }
    if !item.luxury_trade_lengths.is_empty() {
        lines.push("  Luxury Trade Lengths:".to_string());
        for (k, v) in &item.luxury_trade_lengths {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.luxury_turns.is_empty() {
        lines.push("  Luxury Turns:".to_string());
        for (k, v) in &item.luxury_turns {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.make_governor_costs.is_empty() {
        lines.push("  Make Governor Costs:".to_string());
        for (k, v) in &item.make_governor_costs {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.military_unit_count {
        lines.push(format!("  Military Unit Count: {}", v));
    }
    if !item.military_unit_family_counts.is_empty() {
        lines.push("  Military Unit Family Counts:".to_string());
        for (k, v) in &item.military_unit_family_counts {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = &item.name {
        lines.push(format!("  Name: {}", v));
    }
    if let Some(v) = &item.name_type {
        lines.push(format!("  Name Type: {}", shorten_type(v)));
    }
    if let Some(v) = &item.nation {
        lines.push(format!("  Nation: {}", shorten_type(v)));
    }
    if !item.next_turn_overflows.is_empty() {
        lines.push("  Next Turn Overflows:".to_string());
        for (k, v) in &item.next_turn_overflows {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.num_random_promotions {
        lines.push(format!("  Num Random Promotions: {}", v));
    }
    if let Some(v) = item.pagan_religion_count {
        lines.push(format!("  Pagan Religion Count: {}", v));
    }
    if let Some(v) = item.passive_heal_damage {
        lines.push(format!("  Passive Heal Damage: {}", v));
    }
    if let Some(v) = &item.player {
        lines.push(format!("  Player: {}", v));
    }
    if let Some(v) = item.player_int {
        lines.push(format!("  Player Int: {}", v));
    }
    if let Some(v) = item.population {
        lines.push(format!("  Population: {}", v));
    }
    if let Some(v) = item.project_cost_modifier {
        lines.push(format!("  Project Cost Modifier: {}", v));
    }
    if !item.project_counts.is_empty() {
        lines.push("  Project Counts:".to_string());
        for (k, v) in &item.project_counts {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.projects.is_empty() {
        lines.push("  Projects:".to_string());
        for (k, v) in &item.projects {
            lines.push(format!("    {}: {:?}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.raided_turn {
        lines.push(format!("  Raided Turn: {}", v));
    }
    if let Some(v) = item.range_change {
        lines.push(format!("  Range Change: {}", v));
    }
    if let Some(v) = item.regrowth_modifier {
        lines.push(format!("  Regrowth Modifier: {}", v));
    }
    if let Some(v) = item.religion_count {
        lines.push(format!("  Religion Count: {}", v));
    }
    if let Some(v) = item.religion_non_state_count {
        lines.push(format!("  Religion Non State Count: {}", v));
    }
    if !item.religions.is_empty() {
        let items: Vec<String> = item.religions.iter().map(|s| shorten_type(s)).collect();
        lines.push(format!("  Religions: {}", items.join(", ")));
    }
    if let Some(v) = item.salt_water_tiles {
        lines.push(format!("  Salt Water Tiles: {}", v));
    }
    if let Some(v) = item.specialist_cost_modifier {
        lines.push(format!("  Specialist Cost Modifier: {}", v));
    }
    if !item.specialist_cost_modifiers.is_empty() {
        lines.push("  Specialist Cost Modifiers:".to_string());
        for (k, v) in &item.specialist_cost_modifiers {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.specialist_count {
        lines.push(format!("  Specialist Count: {}", v));
    }
    if let Some(v) = item.specialist_produced_count {
        lines.push(format!("  Specialist Produced Count: {}", v));
    }
    if let Some(v) = item.specialist_rural_train_time_modifier {
        lines.push(format!("  Specialist Rural Train Time Modifier: {}", v));
    }
    if let Some(v) = item.specialist_urban_cost_modifier {
        lines.push(format!("  Specialist Urban Cost Modifier: {}", v));
    }
    if let Some(v) = item.specialist_urban_train_time_modifier {
        lines.push(format!("  Specialist Urban Train Time Modifier: {}", v));
    }
    if !item.state_religion_unit_trait_train_modifiers.is_empty() {
        lines.push("  State Religion Unit Trait Train Modifiers:".to_string());
        for (k, v) in &item.state_religion_unit_trait_train_modifiers {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.strength_modifier {
        lines.push(format!("  Strength Modifier: {}", v));
    }
    if let Some(v) = &item.team {
        lines.push(format!("  Team: {}", v));
    }
    if let Some(v) = item.territory_tile_count {
        lines.push(format!("  Territory Tile Count: {}", v));
    }
    if !item.territory_tile_counts.is_empty() {
        lines.push("  Territory Tile Counts:".to_string());
        for (k, v) in &item.territory_tile_counts {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.territory_tiles.is_empty() {
        let items: Vec<String> = item.territory_tiles.iter().map(|v| v.to_string()).collect();
        lines.push(format!("  Territory Tiles: {}", items.join(", ")));
    }
    if let Some(v) = item.tile_id {
        lines.push(format!("  Tile ID: {}", v));
    }
    if let Some(v) = item.trade_network {
        lines.push(format!("  Trade Network: {}", v));
    }
    if let Some(v) = &item.tribe {
        lines.push(format!("  Tribe: {}", shorten_type(v)));
    }
    if !item.unit_cost_modifiers.is_empty() {
        lines.push("  Unit Cost Modifiers:".to_string());
        for (k, v) in &item.unit_cost_modifiers {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.unit_production_counts.is_empty() {
        lines.push("  Unit Production Counts:".to_string());
        for (k, v) in &item.unit_production_counts {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.unit_train_modifiers.is_empty() {
        lines.push("  Unit Train Modifiers:".to_string());
        for (k, v) in &item.unit_train_modifiers {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.unit_trait_cost_modifiers.is_empty() {
        lines.push("  Unit Trait Cost Modifiers:".to_string());
        for (k, v) in &item.unit_trait_cost_modifiers {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.unit_trait_train_modifiers.is_empty() {
        lines.push("  Unit Trait Train Modifiers:".to_string());
        for (k, v) in &item.unit_trait_train_modifiers {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.urban_build_turn_change {
        lines.push(format!("  Urban Build Turn Change: {}", v));
    }
    if let Some(v) = item.urban_specialist_count {
        lines.push(format!("  Urban Specialist Count: {}", v));
    }
    if let Some(v) = item.urban_tiles {
        lines.push(format!("  Urban Tiles: {}", v));
    }
    if let Some(v) = item.x {
        lines.push(format!("  X: {}", v));
    }
    if let Some(v) = item.y {
        lines.push(format!("  Y: {}", v));
    }
    if !item.yield_levels.is_empty() {
        lines.push("  Yield Levels:".to_string());
        for (k, v) in &item.yield_levels {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.yield_overflows.is_empty() {
        lines.push("  Yield Overflows:".to_string());
        for (k, v) in &item.yield_overflows {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.yield_progresss.is_empty() {
        lines.push("  Yield Progresss:".to_string());
        for (k, v) in &item.yield_progresss {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.yield_threshold_wholes.is_empty() {
        lines.push("  Yield Threshold Wholes:".to_string());
        for (k, v) in &item.yield_threshold_wholes {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.yield_thresholds.is_empty() {
        lines.push("  Yield Thresholds:".to_string());
        for (k, v) in &item.yield_thresholds {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.yield_turns_lefts.is_empty() {
        lines.push("  Yield Turns Lefts:".to_string());
        for (k, v) in &item.yield_turns_lefts {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.yields.is_empty() {
        lines.push("  Yields:".to_string());
        for (k, v) in &item.yields {
            lines.push(format!("    {}: {:?}", shorten_type(k), v));
        }
    }

    lines.join("\n")
}

/// Format a list of cities (all fields for each)
pub fn format_cities(items: &[types::City]) -> String {
    if items.is_empty() {
        return "No cities found".to_string();
    }

    items
        .iter()
        .map(|item| format_city(item))
        .collect::<Vec<_>>()
        .join("\n\n")
}

/// Format a list of city events (all fields for each)
pub fn format_city_events(items: &[types::CityEvent]) -> String {
    if items.is_empty() {
        return "No city events found".to_string();
    }

    items
        .iter()
        .map(|item| {
            let mut lines = Vec::new();
            lines.push("CityEvent".to_string());
            if let Some(v) = item.city_id {
                lines.push(format!("  City Id: {}", v));
            }
            if let Some(v) = &item.city_name {
                lines.push(format!("  City Name: {}", v));
            }
            if let Some(v) = &item.event_type {
                lines.push(format!("  Event Type: {:?}", v));
            }
                        if let Some(v) = item.new_owner_id {
                lines.push(format!("  New Owner Id: {}", v));
            }
            if let Some(v) = item.old_owner_id {
                lines.push(format!("  Old Owner Id: {}", v));
            }
            if let Some(v) = item.player_id {
                lines.push(format!("  Player Id: {}", v));
            }
            if let Some(v) = item.was_tribe {
                if v {
                    lines.push("  Was Tribe: Yes".to_string());
                }
            }
            lines.join("\n")
        })
        .collect::<Vec<_>>()
        .join("\n\n")
}

/// Format a single GameConfig for display (all fields)
pub fn format_config(item: &types::GameConfig) -> String {
    let mut lines = Vec::new();

    lines.push("GameConfig".to_string());

    if let Some(v) = item.num_players {
        lines.push(format!("  Num Players: {}", v));
    }
    if let Some(v) = item.num_teams {
        lines.push(format!("  Num Teams: {}", v));
    }
    if let Some(v) = item.num_tiles {
        lines.push(format!("  Num Tiles: {}", v));
    }
    if let Some(v) = item.turn {
        lines.push(format!("  Turn: {}", v));
    }
    if let Some(v) = item.year {
        lines.push(format!("  Year: {}", v));
    }

    lines.join("\n")
}

/// Format a single GameState for display (all fields)
pub fn format_state(item: &types::GameState) -> String {
    let mut lines = Vec::new();

    lines.push("GameState".to_string());

    if !item.characters.is_empty() {
        lines.push(format!("  Characters: {} items", item.characters.len()));
    }
    if !item.cities.is_empty() {
        lines.push(format!("  Cities: {} items", item.cities.len()));
    }
    if let Some(v) = item.current_player {
        lines.push(format!("  Current Player: {}", v));
    }
    if !item.players.is_empty() {
        lines.push(format!("  Players: {} items", item.players.len()));
    }
    if !item.team_alliances.is_empty() {
        lines.push(format!("  Team Alliances: {} items", item.team_alliances.len()));
    }
    if !item.team_diplomacy.is_empty() {
        lines.push(format!("  Team Diplomacy: {} items", item.team_diplomacy.len()));
    }
    if !item.tribe_alliances.is_empty() {
        lines.push(format!("  Tribe Alliances: {} items", item.tribe_alliances.len()));
    }
    if !item.tribe_diplomacy.is_empty() {
        lines.push(format!("  Tribe Diplomacy: {} items", item.tribe_diplomacy.len()));
    }
    if !item.tribes.is_empty() {
        lines.push(format!("  Tribes: {} items", item.tribes.len()));
    }
    if let Some(v) = item.turn {
        lines.push(format!("  Turn: {}", v));
    }
    if !item.units.is_empty() {
        lines.push(format!("  Units: {} items", item.units.len()));
    }
    if let Some(v) = item.year {
        lines.push(format!("  Year: {}", v));
    }

    lines.join("\n")
}

/// Format a single MapMetadata for display (all fields)
pub fn format_map(item: &types::MapMetadata) -> String {
    let mut lines = Vec::new();

    lines.push("MapMetadata".to_string());

    if let Some(v) = item.num_tiles {
        lines.push(format!("  Num Tiles: {}", v));
    }

    lines.join("\n")
}

/// Format a single Player for display (all fields)
pub fn format_player(item: &types::Player) -> String {
    let mut lines = Vec::new();

    lines.push("Player".to_string());

    if !item.active_improvement_class_counts.is_empty() {
        lines.push("  Active Improvement Class Counts:".to_string());
        for (k, v) in &item.active_improvement_class_counts {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.active_improvement_counts.is_empty() {
        lines.push("  Active Improvement Counts:".to_string());
        for (k, v) in &item.active_improvement_counts {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.adopt_religion_costs.is_empty() {
        lines.push("  Adopt Religion Costs:".to_string());
        for (k, v) in &item.adopt_religion_costs {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.ai_auto_play_to_turn {
        lines.push(format!("  Ai Auto Play To Turn: {}", v));
    }
    if !item.ambition_decisionss.is_empty() {
        lines.push("  Ambition Decisionss:".to_string());
        for (k, v) in &item.ambition_decisionss {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.border_visibility {
        lines.push(format!("  Border Visibility: {}", v));
    }
    if let Some(v) = item.buy_tile_count {
        lines.push(format!("  Buy Tile Count: {}", v));
    }
    if let Some(v) = item.capital_city_id {
        lines.push(format!("  Capital City ID: {}", v));
    }
    if let Some(v) = item.chosen_heir_id {
        lines.push(format!("  Chosen Heir ID: {}", v));
    }
    if !item.cities.is_empty() {
        let items: Vec<String> = item.cities.iter().map(|v| v.to_string()).collect();
        lines.push(format!("  Cities: {}", items.join(", ")));
    }
    if let Some(v) = item.consumption_modifier {
        lines.push(format!("  Consumption Modifier: {}", v));
    }
    if let Some(v) = item.convert_orders_cost {
        lines.push(format!("  Convert Orders Cost: {}", v));
    }
    if let Some(v) = &item.convert_orders_yield {
        lines.push(format!("  Convert Orders Yield: {}", shorten_type(v)));
    }
    if !item.council_characters.is_empty() {
        lines.push("  Council Characters:".to_string());
        for (k, v) in &item.council_characters {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = &item.crest {
        lines.push(format!("  Crest: {}", v));
    }
    if let Some(v) = &item.custom_name {
        lines.push(format!("  Custom Name: {}", v));
    }
    if let Some(v) = &item.custom_reminder {
        lines.push(format!("  Custom Reminder: {}", v));
    }
    if let Some(v) = &item.development {
        lines.push(format!("  Development: {}", shorten_type(v)));
    }
    if let Some(v) = &item.difficulty {
        lines.push(format!("  Difficulty: {}", shorten_type(v)));
    }
    if let Some(v) = &item.difficulty_mode {
        lines.push(format!("  Difficulty Mode: {}", shorten_type(v)));
    }
    if let Some(v) = &item.dynasty {
        lines.push(format!("  Dynasty: {}", v));
    }
    if !item.effect_city_rebel_probs.is_empty() {
        lines.push("  Effect City Rebel Probs:".to_string());
        for (k, v) in &item.effect_city_rebel_probs {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.effect_player_counts.is_empty() {
        lines.push("  Effect Player Counts:".to_string());
        for (k, v) in &item.effect_player_counts {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.extra_luxury_counts.is_empty() {
        lines.push("  Extra Luxury Counts:".to_string());
        for (k, v) in &item.extra_luxury_counts {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.families.is_empty() {
        lines.push(format!("  Families: {}", item.families.join(", ")));
    }
    if !item.family_controls.is_empty() {
        lines.push("  Family Controls:".to_string());
        for (k, v) in &item.family_controls {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.family_head_i_ds.is_empty() {
        lines.push("  Family Head I Ds:".to_string());
        for (k, v) in &item.family_head_i_ds {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.family_opinion_rates.is_empty() {
        lines.push("  Family Opinion Rates:".to_string());
        for (k, v) in &item.family_opinion_rates {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.family_seat_city_i_ds.is_empty() {
        lines.push("  Family Seat City I Ds:".to_string());
        for (k, v) in &item.family_seat_city_i_ds {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = &item.family_supremacy {
        lines.push(format!("  Family Supremacy: {}", shorten_type(v)));
    }
    if !item.family_turns_no_leaders.is_empty() {
        lines.push("  Family Turns No Leaders:".to_string());
        for (k, v) in &item.family_turns_no_leaders {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = &item.first_popup {
        lines.push(format!("  First Popup: {}", v));
    }
    if let Some(v) = item.fixed_num_cities {
        lines.push(format!("  Fixed Num Cities: {}", v));
    }
    if let Some(v) = item.founder_id {
        lines.push(format!("  Founder ID: {}", v));
    }
    if !item.gift_yield_quantitys.is_empty() {
        lines.push("  Gift Yield Quantitys:".to_string());
        for (k, v) in &item.gift_yield_quantitys {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.goal_started_counts.is_empty() {
        lines.push("  Goal Started Counts:".to_string());
        for (k, v) in &item.goal_started_counts {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.harvest_modifier {
        lines.push(format!("  Harvest Modifier: {}", v));
    }
    if let Some(v) = item.has_achievement_locked {
        if v {
            lines.push("  Has Achievement Locked: Yes".to_string());
        }
    }
    if let Some(v) = item.has_achievement_unlocked {
        if v {
            lines.push("  Has Achievement Unlocked: Yes".to_string());
        }
    }
    if !item.has_active_characters.is_empty() {
        lines.push("  Has Active Characters:".to_string());
        for (k, v) in &item.has_active_characters {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.has_automated_units {
        if v {
            lines.push("  Has Automated Units: Yes".to_string());
        }
    }
    if let Some(v) = item.has_capital_city {
        if v {
            lines.push("  Has Capital City: Yes".to_string());
        }
    }
    if let Some(v) = item.has_chosen_heir {
        if v {
            lines.push("  Has Chosen Heir: Yes".to_string());
        }
    }
    if !item.has_council_characters.is_empty() {
        lines.push("  Has Council Characters:".to_string());
        for (k, v) in &item.has_council_characters {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.has_custom_name {
        if v {
            lines.push("  Has Custom Name: Yes".to_string());
        }
    }
    if let Some(v) = item.has_decisions {
        if v {
            lines.push("  Has Decisions: Yes".to_string());
        }
    }
    if let Some(v) = item.has_dynasty {
        if v {
            lines.push("  Has Dynasty: Yes".to_string());
        }
    }
    if !item.has_family_heads.is_empty() {
        lines.push("  Has Family Heads:".to_string());
        for (k, v) in &item.has_family_heads {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.has_family_opinions.is_empty() {
        lines.push("  Has Family Opinions:".to_string());
        for (k, v) in &item.has_family_opinions {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.has_family_seat_citys.is_empty() {
        lines.push("  Has Family Seat Citys:".to_string());
        for (k, v) in &item.has_family_seat_citys {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.has_founder {
        if v {
            lines.push("  Has Founder: Yes".to_string());
        }
    }
    if !item.has_height_claimeds.is_empty() {
        lines.push("  Has Height Claimeds:".to_string());
        for (k, v) in &item.has_height_claimeds {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.has_heir {
        if v {
            lines.push("  Has Heir: Yes".to_string());
        }
    }
    if let Some(v) = item.has_leader {
        if v {
            lines.push("  Has Leader: Yes".to_string());
        }
    }
    if let Some(v) = item.has_leader_family {
        if v {
            lines.push("  Has Leader Family: Yes".to_string());
        }
    }
    if let Some(v) = item.has_leader_spouse_alive {
        if v {
            lines.push("  Has Leader Spouse Alive: Yes".to_string());
        }
    }
    if let Some(v) = item.has_nation {
        if v {
            lines.push("  Has Nation: Yes".to_string());
        }
    }
    if !item.has_religion_opinion_historys.is_empty() {
        lines.push("  Has Religion Opinion Historys:".to_string());
        for (k, v) in &item.has_religion_opinion_historys {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.has_religions.is_empty() {
        lines.push("  Has Religions:".to_string());
        for (k, v) in &item.has_religions {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.has_scenario_completed {
        if v {
            lines.push("  Has Scenario Completed: Yes".to_string());
        }
    }
    if let Some(v) = item.has_state_religion {
        if v {
            lines.push("  Has State Religion: Yes".to_string());
        }
    }
    if !item.has_terrain_claimeds.is_empty() {
        lines.push("  Has Terrain Claimeds:".to_string());
        for (k, v) in &item.has_terrain_claimeds {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.has_trait_characters.is_empty() {
        lines.push("  Has Trait Characters:".to_string());
        for (k, v) in &item.has_trait_characters {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.has_turn_summary {
        if v {
            lines.push("  Has Turn Summary: Yes".to_string());
        }
    }
    if !item.has_vegetation_claimeds.is_empty() {
        lines.push("  Has Vegetation Claimeds:".to_string());
        for (k, v) in &item.has_vegetation_claimeds {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = &item.ignore_reminders {
        lines.push(format!("  Ignore Reminders: {}", v));
    }
    if !item.improvement_class_counts.is_empty() {
        lines.push("  Improvement Class Counts:".to_string());
        for (k, v) in &item.improvement_class_counts {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.improvement_counts.is_empty() {
        lines.push("  Improvement Counts:".to_string());
        for (k, v) in &item.improvement_counts {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.improvement_laws_requireds.is_empty() {
        lines.push("  Improvement Laws Requireds:".to_string());
        for (k, v) in &item.improvement_laws_requireds {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.index {
        lines.push(format!("  Index: {}", v));
    }
    if let Some(v) = item.is_ai_auto_play {
        if v {
            lines.push("  Is AI Auto Play: Yes".to_string());
        }
    }
    if let Some(v) = item.is_active {
        if v {
            lines.push("  Is Active: Yes".to_string());
        }
    }
    if !item.is_active_laws.is_empty() {
        lines.push("  Is Active Laws:".to_string());
        for (k, v) in &item.is_active_laws {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_alive {
        if v {
            lines.push("  Is Alive: Yes".to_string());
        }
    }
    if let Some(v) = item.is_any_dirty {
        if v {
            lines.push("  Is Any Dirty: Yes".to_string());
        }
    }
    if let Some(v) = item.is_any_pick_later {
        if v {
            lines.push("  Is Any Pick Later: Yes".to_string());
        }
    }
    if let Some(v) = item.is_any_tech_available {
        if v {
            lines.push("  Is Any Tech Available: Yes".to_string());
        }
    }
    if !item.is_buy_tile_unlocks.is_empty() {
        lines.push("  Is Buy Tile Unlocks:".to_string());
        for (k, v) in &item.is_buy_tile_unlocks {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_city_max_reached {
        if v {
            lines.push("  Is City Max Reached: Yes".to_string());
        }
    }
    if !item.is_city_yield_build_currents.is_empty() {
        lines.push("  Is City Yield Build Currents:".to_string());
        for (k, v) in &item.is_city_yield_build_currents {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_completed_game_saved {
        if v {
            lines.push("  Is Completed Game Saved: Yes".to_string());
        }
    }
    if !item.is_connected_foreign_unlocks.is_empty() {
        lines.push("  Is Connected Foreign Unlocks:".to_string());
        for (k, v) in &item.is_connected_foreign_unlocks {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_converted_legitimacy {
        if v {
            lines.push("  Is Converted Legitimacy: Yes".to_string());
        }
    }
    if !item.is_council_unlocks.is_empty() {
        lines.push("  Is Council Unlocks:".to_string());
        for (k, v) in &item.is_council_unlocks {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_dead {
        if v {
            lines.push("  Is Dead: Yes".to_string());
        }
    }
    if !item.is_family_religions.is_empty() {
        lines.push("  Is Family Religions:".to_string());
        for (k, v) in &item.is_family_religions {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.is_family_starteds.is_empty() {
        lines.push("  Is Family Starteds:".to_string());
        for (k, v) in &item.is_family_starteds {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_first_turn_processing {
        if v {
            lines.push("  Is First Turn Processing: Yes".to_string());
        }
    }
    if let Some(v) = item.is_founded {
        if v {
            lines.push("  Is Founded: Yes".to_string());
        }
    }
    if !item.is_hide_unit_unlocks.is_empty() {
        lines.push("  Is Hide Unit Unlocks:".to_string());
        for (k, v) in &item.is_hide_unit_unlocks {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_human {
        if v {
            lines.push("  Is Human: Yes".to_string());
        }
    }
    if let Some(v) = item.is_human_original {
        if v {
            lines.push("  Is Human Original: Yes".to_string());
        }
    }
    if !item.is_improvement_not_valids.is_empty() {
        lines.push("  Is Improvement Not Valids:".to_string());
        for (k, v) in &item.is_improvement_not_valids {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.is_improvement_unlockeds.is_empty() {
        lines.push("  Is Improvement Unlockeds:".to_string());
        for (k, v) in &item.is_improvement_unlockeds {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_initialized {
        if v {
            lines.push("  Is Initialized: Yes".to_string());
        }
    }
    if !item.is_latest_upgrades.is_empty() {
        lines.push("  Is Latest Upgrades:".to_string());
        for (k, v) in &item.is_latest_upgrades {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_leader_alive {
        if v {
            lines.push("  Is Leader Alive: Yes".to_string());
        }
    }
    if !item.is_min_treaty_turnss.is_empty() {
        lines.push("  Is Min Treaty Turnss:".to_string());
        for (k, v) in &item.is_min_treaty_turnss {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.is_nation_improvements.is_empty() {
        lines.push("  Is Nation Improvements:".to_string());
        for (k, v) in &item.is_nation_improvements {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.is_no_family_restriction_job_unlocks.is_empty() {
        lines.push("  Is No Family Restriction Job Unlocks:".to_string());
        for (k, v) in &item.is_no_family_restriction_job_unlocks {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.is_no_sell_penalty_yield_unlocks.is_empty() {
        lines.push("  Is No Sell Penalty Yield Unlocks:".to_string());
        for (k, v) in &item.is_no_sell_penalty_yield_unlocks {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_playing {
        if v {
            lines.push("  Is Playing: Yes".to_string());
        }
    }
    if let Some(v) = item.is_processing_turn {
        if v {
            lines.push("  Is Processing Turn: Yes".to_string());
        }
    }
    if let Some(v) = item.is_processing_turn_start {
        if v {
            lines.push("  Is Processing Turn Start: Yes".to_string());
        }
    }
    if !item.is_project_not_valids.is_empty() {
        lines.push("  Is Project Not Valids:".to_string());
        for (k, v) in &item.is_project_not_valids {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_researching {
        if v {
            lines.push("  Is Researching: Yes".to_string());
        }
    }
    if !item.is_spread_borders_unlocks.is_empty() {
        lines.push("  Is Spread Borders Unlocks:".to_string());
        for (k, v) in &item.is_spread_borders_unlocks {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_start_city_number_flexible {
        if v {
            lines.push("  Is Start City Number Flexible: Yes".to_string());
        }
    }
    if let Some(v) = item.is_surrendered {
        if v {
            lines.push("  Is Surrendered: Yes".to_string());
        }
    }
    if let Some(v) = item.is_team_human {
        if v {
            lines.push("  Is Team Human: Yes".to_string());
        }
    }
    if !item.is_tech_acquireds.is_empty() {
        lines.push("  Is Tech Acquireds:".to_string());
        for (k, v) in &item.is_tech_acquireds {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.is_tech_any_decks.is_empty() {
        lines.push("  Is Tech Any Decks:".to_string());
        for (k, v) in &item.is_tech_any_decks {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.is_tech_availables.is_empty() {
        lines.push("  Is Tech Availables:".to_string());
        for (k, v) in &item.is_tech_availables {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.is_tech_hides.is_empty() {
        lines.push("  Is Tech Hides:".to_string());
        for (k, v) in &item.is_tech_hides {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.is_tech_lockeds.is_empty() {
        lines.push("  Is Tech Lockeds:".to_string());
        for (k, v) in &item.is_tech_lockeds {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.is_tech_not_valids.is_empty() {
        lines.push("  Is Tech Not Valids:".to_string());
        for (k, v) in &item.is_tech_not_valids {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.is_tech_passed_currents.is_empty() {
        lines.push("  Is Tech Passed Currents:".to_string());
        for (k, v) in &item.is_tech_passed_currents {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.is_tech_passeds.is_empty() {
        lines.push("  Is Tech Passeds:".to_string());
        for (k, v) in &item.is_tech_passeds {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_tech_redraw {
        if v {
            lines.push("  Is Tech Redraw: Yes".to_string());
        }
    }
    if !item.is_tech_targets.is_empty() {
        lines.push("  Is Tech Targets:".to_string());
        for (k, v) in &item.is_tech_targets {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.is_tech_trasheds.is_empty() {
        lines.push("  Is Tech Trasheds:".to_string());
        for (k, v) in &item.is_tech_trasheds {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_turn_ended {
        if v {
            lines.push("  Is Turn Ended: Yes".to_string());
        }
    }
    if let Some(v) = item.is_turn_summary_ready {
        if v {
            lines.push("  Is Turn Summary Ready: Yes".to_string());
        }
    }
    if let Some(v) = item.is_tutorial {
        if v {
            lines.push("  Is Tutorial: Yes".to_string());
        }
    }
    if !item.is_unit_not_valids.is_empty() {
        lines.push("  Is Unit Not Valids:".to_string());
        for (k, v) in &item.is_unit_not_valids {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.is_unit_obsoletes.is_empty() {
        lines.push("  Is Unit Obsoletes:".to_string());
        for (k, v) in &item.is_unit_obsoletes {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.is_unit_unlockeds.is_empty() {
        lines.push("  Is Unit Unlockeds:".to_string());
        for (k, v) in &item.is_unit_unlockeds {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_used_offensive {
        if v {
            lines.push("  Is Used Offensive: Yes".to_string());
        }
    }
    if let Some(v) = item.is_version_mismatch {
        if v {
            lines.push("  Is Version Mismatch: Yes".to_string());
        }
    }
    if !item.is_water_unit_unlocks.is_empty() {
        lines.push("  Is Water Unit Unlocks:".to_string());
        for (k, v) in &item.is_water_unit_unlocks {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.is_world_or_our_pagan_religions.is_empty() {
        lines.push("  Is World Or Our Pagan Religions:".to_string());
        for (k, v) in &item.is_world_or_our_pagan_religions {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.job_opinion_rates.is_empty() {
        lines.push("  Job Opinion Rates:".to_string());
        for (k, v) in &item.job_opinion_rates {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = &item.language {
        lines.push(format!("  Language: {}", v));
    }
    if let Some(v) = item.last_do_turn {
        lines.push(format!("  Last Do Turn: {}", v));
    }
    if let Some(v) = &item.leader_family {
        lines.push(format!("  Leader Family: {}", shorten_type(v)));
    }
    if let Some(v) = item.legitimacy {
        lines.push(format!("  Legitimacy: {}", v));
    }
    if !item.living_courtiers_yields.is_empty() {
        lines.push("  Living Courtiers Yields:".to_string());
        for (k, v) in &item.living_courtiers_yields {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.living_royals_yields.is_empty() {
        lines.push("  Living Royals Yields:".to_string());
        for (k, v) in &item.living_royals_yields {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.luxury_counts.is_empty() {
        lines.push("  Luxury Counts:".to_string());
        for (k, v) in &item.luxury_counts {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.min_starting_cities {
        lines.push(format!("  Min Starting Cities: {}", v));
    }
    if !item.mission_cooldown_turns_lefts.is_empty() {
        lines.push("  Mission Cooldown Turns Lefts:".to_string());
        for (k, v) in &item.mission_cooldown_turns_lefts {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.mission_modifier {
        lines.push(format!("  Mission Modifier: {}", v));
    }
    if !item.mission_started_turns.is_empty() {
        lines.push("  Mission Started Turns:".to_string());
        for (k, v) in &item.mission_started_turns {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.money {
        lines.push(format!("  Money: {}", v));
    }
    if let Some(v) = item.money_whole {
        lines.push(format!("  Money Whole: {}", v));
    }
    if let Some(v) = &item.nation {
        lines.push(format!("  Nation: {}", shorten_type(v)));
    }
    if let Some(v) = item.num_cities {
        lines.push(format!("  Num Cities: {}", v));
    }
    if let Some(v) = item.num_decisions {
        lines.push(format!("  Num Decisions: {}", v));
    }
    if let Some(v) = item.num_empty_sites {
        lines.push(format!("  Num Empty Sites: {}", v));
    }
    if let Some(v) = item.num_families {
        lines.push(format!("  Num Families: {}", v));
    }
    if let Some(v) = item.num_game_loads {
        lines.push(format!("  Num Game Loads: {}", v));
    }
    if let Some(v) = item.num_goals {
        lines.push(format!("  Num Goals: {}", v));
    }
    if let Some(v) = item.num_memories {
        lines.push(format!("  Num Memories: {}", v));
    }
    if let Some(v) = item.num_missions {
        lines.push(format!("  Num Missions: {}", v));
    }
    if let Some(v) = item.num_popups {
        lines.push(format!("  Num Popups: {}", v));
    }
    if let Some(v) = item.num_starting_tiles {
        lines.push(format!("  Num Starting Tiles: {}", v));
    }
    if let Some(v) = item.num_tiles {
        lines.push(format!("  Num Tiles: {}", v));
    }
    if let Some(v) = item.num_trades {
        lines.push(format!("  Num Trades: {}", v));
    }
    if let Some(v) = item.num_tributes {
        lines.push(format!("  Num Tributes: {}", v));
    }
    if let Some(v) = item.num_units {
        lines.push(format!("  Num Units: {}", v));
    }
    if let Some(v) = &item.online_id {
        lines.push(format!("  Online ID: {}", v));
    }
    if let Some(v) = item.orders_left {
        lines.push(format!("  Orders Left: {}", v));
    }
    if let Some(v) = item.original_capital_city_id {
        lines.push(format!("  Original Capital City ID: {}", v));
    }
    if !item.ping_tiles.is_empty() {
        let items: Vec<String> = item.ping_tiles.iter().map(|v| v.to_string()).collect();
        lines.push(format!("  Ping Tiles: {}", items.join(", ")));
    }
    if let Some(v) = &item.player {
        lines.push(format!("  Player: {}", v));
    }
    if let Some(v) = &item.player_email {
        lines.push(format!("  Player Email: {}", v));
    }
    if let Some(v) = item.player_int {
        lines.push(format!("  Player Int: {}", v));
    }
    if let Some(v) = &item.popup_tech_discovered {
        lines.push(format!("  Popup Tech Discovered: {}", shorten_type(v)));
    }
    if !item.projects_produceds.is_empty() {
        lines.push("  Projects Produceds:".to_string());
        for (k, v) in &item.projects_produceds {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.quests_faileds.is_empty() {
        lines.push("  Quests Faileds:".to_string());
        for (k, v) in &item.quests_faileds {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.rates.is_empty() {
        lines.push("  Rates:".to_string());
        for (k, v) in &item.rates {
            lines.push(format!("    {}: {:?}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.recruit_legitimacy {
        lines.push(format!("  Recruit Legitimacy: {}", v));
    }
    if !item.religion_counts.is_empty() {
        lines.push("  Religion Counts:".to_string());
        for (k, v) in &item.religion_counts {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.religion_opinion_rates.is_empty() {
        lines.push("  Religion Opinion Rates:".to_string());
        for (k, v) in &item.religion_opinion_rates {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.reloads {
        lines.push(format!("  Reloads: {}", v));
    }
    if !item.resource_revealeds.is_empty() {
        lines.push("  Resource Revealeds:".to_string());
        for (k, v) in &item.resource_revealeds {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.salt_water_tile_count {
        lines.push(format!("  Salt Water Tile Count: {}", v));
    }
    if let Some(v) = item.sell_penalty_modifier {
        lines.push(format!("  Sell Penalty Modifier: {}", v));
    }
    if !item.start_law_costs.is_empty() {
        lines.push("  Start Law Costs:".to_string());
        for (k, v) in &item.start_law_costs {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.start_turn_cities {
        lines.push(format!("  Start Turn Cities: {}", v));
    }
    if let Some(v) = item.starting_tile_id {
        lines.push(format!("  Starting Tile ID: {}", v));
    }
    if let Some(v) = &item.state_religion {
        lines.push(format!("  State Religion: {}", shorten_type(v)));
    }
    if let Some(v) = item.state_religion_change_count {
        lines.push(format!("  State Religion Change Count: {}", v));
    }
    if let Some(v) = item.state_religion_spread_change {
        lines.push(format!("  State Religion Spread Change: {}", v));
    }
    if !item.stockpiles.is_empty() {
        lines.push("  Stockpiles:".to_string());
        for (k, v) in &item.stockpiles {
            lines.push(format!("    {}: {:?}", shorten_type(k), v));
        }
    }
    if !item.succession.is_empty() {
        let items: Vec<String> = item.succession.iter().map(|v| v.to_string()).collect();
        lines.push(format!("  Succession: {}", items.join(", ")));
    }
    if let Some(v) = item.succession_count {
        lines.push(format!("  Succession Count: {}", v));
    }
    if let Some(v) = &item.succession_gender {
        lines.push(format!("  Succession Gender: {}", v));
    }
    if let Some(v) = &item.succession_order {
        lines.push(format!("  Succession Order: {}", v));
    }
    if let Some(v) = &item.team {
        lines.push(format!("  Team: {}", v));
    }
    if let Some(v) = item.tech_cost_modifier {
        lines.push(format!("  Tech Cost Modifier: {}", v));
    }
    if !item.tech_cost_wholes.is_empty() {
        lines.push("  Tech Cost Wholes:".to_string());
        for (k, v) in &item.tech_cost_wholes {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.tech_costs.is_empty() {
        lines.push("  Tech Costs:".to_string());
        for (k, v) in &item.tech_costs {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.tech_progresss.is_empty() {
        lines.push("  Tech Progresss:".to_string());
        for (k, v) in &item.tech_progresss {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = &item.tech_researching {
        lines.push(format!("  Tech Researching: {}", shorten_type(v)));
    }
    if !item.tech_turn_discovereds.is_empty() {
        lines.push("  Tech Turn Discovereds:".to_string());
        for (k, v) in &item.tech_turn_discovereds {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.techs_available_change {
        lines.push(format!("  Techs Available Change: {}", v));
    }
    if !item.theology_established_counts.is_empty() {
        lines.push("  Theology Established Counts:".to_string());
        for (k, v) in &item.theology_established_counts {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.time_stockpile {
        lines.push(format!("  Time Stockpile: {}", v));
    }
    if !item.trade_outpost_yield_totals.is_empty() {
        lines.push("  Trade Outpost Yield Totals:".to_string());
        for (k, v) in &item.trade_outpost_yield_totals {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.training_order_modifier {
        lines.push(format!("  Training Order Modifier: {}", v));
    }
    if let Some(v) = item.tribe_fatigue_limit_change {
        lines.push(format!("  Tribe Fatigue Limit Change: {}", v));
    }
    if let Some(v) = item.tribe_mercenary_count {
        lines.push(format!("  Tribe Mercenary Count: {}", v));
    }
    if !item.turn_summary.is_empty() {
        lines.push(format!("  Turn Summary: {}", item.turn_summary.join(", ")));
    }
    if let Some(v) = item.turn_time_needed {
        lines.push(format!("  Turn Time Needed: {}", v));
    }
    if !item.unit_trait_consumption_modifiers.is_empty() {
        lines.push("  Unit Trait Consumption Modifiers:".to_string());
        for (k, v) in &item.unit_trait_consumption_modifiers {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.units_produced_turns.is_empty() {
        lines.push("  Units Produced Turns:".to_string());
        for (k, v) in &item.units_produced_turns {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.units_produceds.is_empty() {
        lines.push("  Units Produceds:".to_string());
        for (k, v) in &item.units_produceds {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.vision_change {
        lines.push(format!("  Vision Change: {}", v));
    }
    if let Some(v) = item.wonder_modifier {
        lines.push(format!("  Wonder Modifier: {}", v));
    }
    if let Some(v) = item.world_religion_count {
        lines.push(format!("  World Religion Count: {}", v));
    }
    if let Some(v) = item.world_religion_spread_change {
        lines.push(format!("  World Religion Spread Change: {}", v));
    }
    if !item.yield_stockpile_wholes.is_empty() {
        lines.push("  Yield Stockpile Wholes:".to_string());
        for (k, v) in &item.yield_stockpile_wholes {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.yield_stockpiles.is_empty() {
        lines.push("  Yield Stockpiles:".to_string());
        for (k, v) in &item.yield_stockpiles {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.yield_totals.is_empty() {
        lines.push("  Yield Totals:".to_string());
        for (k, v) in &item.yield_totals {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.yield_upkeep_modifier {
        lines.push(format!("  Yield Upkeep Modifier: {}", v));
    }
    if !item.yield_upkeep_nets.is_empty() {
        lines.push("  Yield Upkeep Nets:".to_string());
        for (k, v) in &item.yield_upkeep_nets {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }

    lines.join("\n")
}

/// Format a list of players (all fields for each)
pub fn format_players(items: &[types::Player]) -> String {
    if items.is_empty() {
        return "No players found".to_string();
    }

    items
        .iter()
        .map(|item| format_player(item))
        .collect::<Vec<_>>()
        .join("\n\n")
}

/// Format a single PlayerDecisions for display (all fields)
pub fn format_player_decisions(item: &types::PlayerDecisions) -> String {
    let mut lines = Vec::new();

    lines.push("PlayerDecisions".to_string());

    if !item.decisions.is_empty() {
        lines.push(format!("  Decisions: {} items", item.decisions.len()));
    }
    if let Some(v) = item.has_decisions {
        if v {
            lines.push("  Has Decisions: Yes".to_string());
        }
    }

    lines.join("\n")
}

/// Format a single PlayerFamilies for display (all fields)
pub fn format_player_families(item: &types::PlayerFamilies) -> String {
    let mut lines = Vec::new();

    lines.push("PlayerFamilies".to_string());

    if !item.families.is_empty() {
        lines.push(format!("  Families: {} items", item.families.len()));
    }

    lines.join("\n")
}

/// Format a single PlayerGoals for display (all fields)
pub fn format_player_goals(item: &types::PlayerGoals) -> String {
    let mut lines = Vec::new();

    lines.push("PlayerGoals".to_string());

    if !item.goals.is_empty() {
        lines.push(format!("  Goals: {} items", item.goals.len()));
    }

    lines.join("\n")
}

/// Format a single PlayerLaws for display (all fields)
pub fn format_player_laws(item: &types::PlayerLaws) -> String {
    let mut lines = Vec::new();

    lines.push("PlayerLaws".to_string());

    if let Some(v) = item.active_law_count {
        lines.push(format!("  Active Law Count: {}", v));
    }
    if !item.active_laws.is_empty() {
        lines.push("  Active Laws:".to_string());
        for (k, v) in &item.active_laws {
            lines.push(format!("    {}: {:?}", shorten_type(k), v));
        }
    }

    lines.join("\n")
}

/// Format a single PlayerMissions for display (all fields)
pub fn format_player_missions(item: &types::PlayerMissions) -> String {
    let mut lines = Vec::new();

    lines.push("PlayerMissions".to_string());

    if !item.cooldowns.is_empty() {
        lines.push("  Cooldowns:".to_string());
        for (k, v) in &item.cooldowns {
            lines.push(format!("    {}: {:?}", shorten_type(k), v));
        }
    }
    if !item.missions.is_empty() {
        lines.push(format!("  Missions: {} items", item.missions.len()));
    }

    lines.join("\n")
}

/// Format a single PlayerReligion for display (all fields)
pub fn format_player_religion(item: &types::PlayerReligion) -> String {
    let mut lines = Vec::new();

    lines.push("PlayerReligion".to_string());

    if !item.religion_counts.is_empty() {
        lines.push("  Religion Counts:".to_string());
        for (k, v) in &item.religion_counts {
            lines.push(format!("    {}: {:?}", shorten_type(k), v));
        }
    }
    if let Some(v) = &item.state_religion {
        lines.push(format!("  State Religion: {}", shorten_type(v)));
    }

    lines.join("\n")
}

/// Format a single PlayerResources for display (all fields)
pub fn format_player_resources(item: &types::PlayerResources) -> String {
    let mut lines = Vec::new();

    lines.push("PlayerResources".to_string());

    if !item.luxuries.is_empty() {
        lines.push("  Luxuries:".to_string());
        for (k, v) in &item.luxuries {
            lines.push(format!("    {}: {:?}", shorten_type(k), v));
        }
    }
    if !item.revealed.is_empty() {
        lines.push("  Revealed:".to_string());
        for (k, v) in &item.revealed {
            lines.push(format!("    {}: {:?}", shorten_type(k), v));
        }
    }

    lines.join("\n")
}

/// Format a single PlayerTechs for display (all fields)
pub fn format_player_techs(item: &types::PlayerTechs) -> String {
    let mut lines = Vec::new();

    lines.push("PlayerTechs".to_string());

    if !item.available.is_empty() {
        lines.push(format!("  Available: {}", item.available.join(", ")));
    }
    if !item.progress.is_empty() {
        lines.push("  Progress:".to_string());
        for (k, v) in &item.progress {
            lines.push(format!("    {}: {:?}", shorten_type(k), v));
        }
    }
    if !item.researched.is_empty() {
        lines.push(format!("  Researched: {}", item.researched.join(", ")));
    }
    if let Some(v) = &item.researching {
        lines.push(format!("  Researching: {}", v));
    }

    lines.join("\n")
}

/// Format a single Religion for display (all fields)
pub fn format_religion(item: &types::Religion) -> String {
    let mut lines = Vec::new();

    lines.push("Religion".to_string());

    if let Some(v) = item.head_character_id {
        lines.push(format!("  Head Character Id: {}", v));
    }
    if let Some(v) = item.holy_city_id {
        lines.push(format!("  Holy City Id: {}", v));
    }
    if let Some(v) = item.is_founded {
        if v {
            lines.push("  Is Founded: Yes".to_string());
        }
    }
    if let Some(v) = &item.religion_type {
        lines.push(format!("  Religion Type: {}", shorten_type(v)));
    }

    lines.join("\n")
}

/// Format a list of religions (all fields for each)
pub fn format_religions(items: &[types::Religion]) -> String {
    if items.is_empty() {
        return "No religions found".to_string();
    }

    items
        .iter()
        .map(|item| format_religion(item))
        .collect::<Vec<_>>()
        .join("\n\n")
}

/// Format a list of team alliances (all fields for each)
pub fn format_team_alliances(items: &[types::TeamAlliance]) -> String {
    if items.is_empty() {
        return "No team alliances found".to_string();
    }

    items
        .iter()
        .map(|item| {
            let mut lines = Vec::new();
            lines.push("TeamAlliance".to_string());
            if let Some(v) = &item.alliance_type {
                lines.push(format!("  Alliance Type: {}", shorten_type(v)));
            }
            if let Some(v) = item.team1 {
                lines.push(format!("  Team1: {}", v));
            }
            if let Some(v) = item.team2 {
                lines.push(format!("  Team2: {}", v));
            }
            lines.join("\n")
        })
        .collect::<Vec<_>>()
        .join("\n\n")
}

/// Format a list of team diplomacy entries (all fields for each)
pub fn format_team_diplomacy(items: &[types::TeamDiplomacy]) -> String {
    if items.is_empty() {
        return "No team diplomacy entries found".to_string();
    }

    items
        .iter()
        .map(|item| {
            let mut lines = Vec::new();
            lines.push("TeamDiplomacy".to_string());
            if let Some(v) = item.conflict_turn {
                lines.push(format!("  Conflict Turn: {}", v));
            }
            if let Some(v) = &item.diplomacy {
                lines.push(format!("  Diplomacy: {}", shorten_type(v)));
            }
            if let Some(v) = item.from_team {
                lines.push(format!("  From Team: {}", v));
            }
            if let Some(v) = item.has_contact {
                if v {
                    lines.push("  Has Contact: Yes".to_string());
                }
            }
            if let Some(v) = item.is_hostile {
                if v {
                    lines.push("  Is Hostile: Yes".to_string());
                }
            }
            if let Some(v) = item.is_peace {
                if v {
                    lines.push("  Is Peace: Yes".to_string());
                }
            }
            if let Some(v) = item.to_team {
                lines.push(format!("  To Team: {}", v));
            }
            if let Some(v) = item.war_score {
                lines.push(format!("  War Score: {}", v));
            }
            if let Some(v) = &item.war_state {
                lines.push(format!("  War State: {}", v));
            }
            lines.join("\n")
        })
        .collect::<Vec<_>>()
        .join("\n\n")
}

/// Format a single Tile for display (all fields)
pub fn format_tile(item: &types::Tile) -> String {
    let mut lines = Vec::new();

    lines.push("Tile".to_string());

    if let Some(v) = &item.active_improvement_class {
        lines.push(format!("  Active Improvement Class: {}", shorten_type(v)));
    }
    if let Some(v) = item.area {
        lines.push(format!("  Area: {}", v));
    }
    if let Some(v) = item.area_tile_count {
        lines.push(format!("  Area Tile Count: {}", v));
    }
    if let Some(v) = item.city_id {
        lines.push(format!("  City ID: {}", v));
    }
    if let Some(v) = &item.city_site {
        lines.push(format!("  City Site: {}", v));
    }
    if let Some(v) = item.city_territory {
        lines.push(format!("  City Territory: {}", v));
    }
    if let Some(v) = item.construction_progress {
        lines.push(format!("  Construction Progress: {}", v));
    }
    if let Some(v) = &item.current_specialist {
        lines.push(format!("  Current Specialist: {}", v));
    }
    if let Some(v) = &item.custom_map_element_name {
        lines.push(format!("  Custom Map Element Name: {}", v));
    }
    if let Some(v) = item.extra_blocking_visibility_height {
        lines.push(format!("  Extra Blocking Visibility Height: {}", v));
    }
    if let Some(v) = &item.family {
        lines.push(format!("  Family: {}", shorten_type(v)));
    }
    if let Some(v) = item.harvest_turn {
        lines.push(format!("  Harvest Turn: {}", v));
    }
    if let Some(v) = item.has_can_damage_unit {
        if v {
            lines.push("  Has Can Damage Unit: Yes".to_string());
        }
    }
    if let Some(v) = item.has_city {
        if v {
            lines.push("  Has City: Yes".to_string());
        }
    }
    if let Some(v) = item.has_city_territory {
        if v {
            lines.push("  Has City Territory: Yes".to_string());
        }
    }
    if let Some(v) = item.has_family {
        if v {
            lines.push("  Has Family: Yes".to_string());
        }
    }
    if let Some(v) = item.has_free_specialist {
        if v {
            lines.push("  Has Free Specialist: Yes".to_string());
        }
    }
    if let Some(v) = item.has_governor {
        if v {
            lines.push("  Has Governor: Yes".to_string());
        }
    }
    if let Some(v) = item.has_improvement {
        if v {
            lines.push("  Has Improvement: Yes".to_string());
        }
    }
    if let Some(v) = item.has_improvement_class {
        if v {
            lines.push("  Has Improvement Class: Yes".to_string());
        }
    }
    if let Some(v) = item.has_improvement_free_specialist {
        if v {
            lines.push("  Has Improvement Free Specialist: Yes".to_string());
        }
    }
    if let Some(v) = item.has_improvement_rural {
        if v {
            lines.push("  Has Improvement Rural: Yes".to_string());
        }
    }
    if let Some(v) = item.has_improvement_with_border_spread {
        if v {
            lines.push("  Has Improvement With Border Spread: Yes".to_string());
        }
    }
    if let Some(v) = item.has_inactive_improvement {
        if v {
            lines.push("  Has Inactive Improvement: Yes".to_string());
        }
    }
    if let Some(v) = item.has_map_element_name {
        if v {
            lines.push("  Has Map Element Name: Yes".to_string());
        }
    }
    if let Some(v) = item.has_map_generator_data {
        if v {
            lines.push("  Has Map Generator Data: Yes".to_string());
        }
    }
    if !item.has_or_building_specialists.is_empty() {
        lines.push("  Has Or Building Specialists:".to_string());
        for (k, v) in &item.has_or_building_specialists {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.has_owner {
        if v {
            lines.push("  Has Owner: Yes".to_string());
        }
    }
    if let Some(v) = item.has_owner_tribe {
        if v {
            lines.push("  Has Owner Tribe: Yes".to_string());
        }
    }
    if let Some(v) = item.has_religion {
        if v {
            lines.push("  Has Religion: Yes".to_string());
        }
    }
    if let Some(v) = item.has_resource {
        if v {
            lines.push("  Has Resource: Yes".to_string());
        }
    }
    if let Some(v) = item.has_specialist {
        if v {
            lines.push("  Has Specialist: Yes".to_string());
        }
    }
    if let Some(v) = item.has_unit {
        if v {
            lines.push("  Has Unit: Yes".to_string());
        }
    }
    if let Some(v) = item.has_vegetation {
        if v {
            lines.push("  Has Vegetation: Yes".to_string());
        }
    }
    if let Some(v) = &item.height {
        lines.push(format!("  Height: {}", shorten_type(v)));
    }
    if let Some(v) = &item.height_history {
        lines.push(format!("  Height History: {}", shorten_type(v)));
    }
    if let Some(v) = &item.hidden_height {
        lines.push(format!("  Hidden Height: {}", shorten_type(v)));
    }
    if let Some(v) = &item.hidden_terrain {
        lines.push(format!("  Hidden Terrain: {}", shorten_type(v)));
    }
    if let Some(v) = item.id {
        lines.push(format!("  Id: {}", v));
    }
    if let Some(v) = &item.improvement {
        lines.push(format!("  Improvement: {}", shorten_type(v)));
    }
    if let Some(v) = item.improvement_build_turns_left {
        lines.push(format!("  Improvement Build Turns Left: {}", v));
    }
    if let Some(v) = item.improvement_build_turns_original {
        lines.push(format!("  Improvement Build Turns Original: {}", v));
    }
    if let Some(v) = &item.improvement_class {
        lines.push(format!("  Improvement Class: {}", shorten_type(v)));
    }
    if !item.improvement_costs.is_empty() {
        lines.push("  Improvement Costs:".to_string());
        for (k, v) in &item.improvement_costs {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.improvement_develop_turns {
        lines.push(format!("  Improvement Develop Turns: {}", v));
    }
    if let Some(v) = &item.improvement_dynamic_text {
        lines.push(format!("  Improvement Dynamic Text: {}", shorten_type(v)));
    }
    if let Some(v) = &item.improvement_first_specialist {
        lines.push(format!("  Improvement First Specialist: {}", shorten_type(v)));
    }
    if let Some(v) = &item.improvement_grammatical_gender {
        lines.push(format!("  Improvement Grammatical Gender: {}", shorten_type(v)));
    }
    if let Some(v) = item.improvement_pillage_turns {
        lines.push(format!("  Improvement Pillage Turns: {}", v));
    }
    if let Some(v) = &item.improvement_religion_prereq {
        lines.push(format!("  Improvement Religion Prereq: {}", shorten_type(v)));
    }
    if let Some(v) = &item.improvement_religion_spread {
        lines.push(format!("  Improvement Religion Spread: {}", shorten_type(v)));
    }
    if let Some(v) = item.improvement_unit_turns {
        lines.push(format!("  Improvement Unit Turns: {}", v));
    }
    if let Some(v) = item.is_any_coast_land {
        if v {
            lines.push("  Is Any Coast Land: Yes".to_string());
        }
    }
    if let Some(v) = item.is_any_dirty {
        if v {
            lines.push("  Is Any Dirty: Yes".to_string());
        }
    }
    if let Some(v) = item.is_border {
        if v {
            lines.push("  Is Border: Yes".to_string());
        }
    }
    if let Some(v) = item.is_boundary {
        if v {
            lines.push("  Is Boundary: Yes".to_string());
        }
    }
    if let Some(v) = item.is_canal {
        if v {
            lines.push("  Is Canal: Yes".to_string());
        }
    }
    if let Some(v) = item.is_city_site_any {
        if v {
            lines.push("  Is City Site Any: Yes".to_string());
        }
    }
    if let Some(v) = item.is_clear {
        if v {
            lines.push("  Is Clear: Yes".to_string());
        }
    }
    if let Some(v) = item.is_flat {
        if v {
            lines.push("  Is Flat: Yes".to_string());
        }
    }
    if let Some(v) = item.is_fresh_water {
        if v {
            lines.push("  Is Fresh Water: Yes".to_string());
        }
    }
    if let Some(v) = item.is_fresh_water_access {
        if v {
            lines.push("  Is Fresh Water Access: Yes".to_string());
        }
    }
    if let Some(v) = item.is_fresh_water_source {
        if v {
            lines.push("  Is Fresh Water Source: Yes".to_string());
        }
    }
    if let Some(v) = item.is_harvested {
        if v {
            lines.push("  Is Harvested: Yes".to_string());
        }
    }
    if !item.is_improvement_border_spreads.is_empty() {
        lines.push("  Is Improvement Border Spreads:".to_string());
        for (k, v) in &item.is_improvement_border_spreads {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_improvement_unfinished {
        if v {
            lines.push("  Is Improvement Unfinished: Yes".to_string());
        }
    }
    if let Some(v) = item.is_improvement_unfinished_or_pillaged {
        if v {
            lines.push("  Is Improvement Unfinished Or Pillaged: Yes".to_string());
        }
    }
    if let Some(v) = item.is_land {
        if v {
            lines.push("  Is Land: Yes".to_string());
        }
    }
    if let Some(v) = item.is_minor_city {
        if v {
            lines.push("  Is Minor City: Yes".to_string());
        }
    }
    if let Some(v) = item.is_nation_site {
        if v {
            lines.push("  Is Nation Site: Yes".to_string());
        }
    }
    if let Some(v) = item.is_passable_land {
        if v {
            lines.push("  Is Passable Land: Yes".to_string());
        }
    }
    if let Some(v) = item.is_pillaged {
        if v {
            lines.push("  Is Pillaged: Yes".to_string());
        }
    }
    if let Some(v) = item.is_regrowing {
        if v {
            lines.push("  Is Regrowing: Yes".to_string());
        }
    }
    if !item.is_religions.is_empty() {
        lines.push("  Is Religions:".to_string());
        for (k, v) in &item.is_religions {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.is_resource_valids.is_empty() {
        lines.push("  Is Resource Valids:".to_string());
        for (k, v) in &item.is_resource_valids {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_river {
        if v {
            lines.push("  Is River: Yes".to_string());
        }
    }
    if let Some(v) = item.is_river_e {
        if v {
            lines.push("  Is River E: Yes".to_string());
        }
    }
    if let Some(v) = item.is_river_ne {
        if v {
            lines.push("  Is River NE: Yes".to_string());
        }
    }
    if let Some(v) = item.is_river_nw {
        if v {
            lines.push("  Is River NW: Yes".to_string());
        }
    }
    if let Some(v) = item.is_river_se {
        if v {
            lines.push("  Is River SE: Yes".to_string());
        }
    }
    if let Some(v) = item.is_river_sw {
        if v {
            lines.push("  Is River SW: Yes".to_string());
        }
    }
    if let Some(v) = item.is_river_w {
        if v {
            lines.push("  Is River W: Yes".to_string());
        }
    }
    if let Some(v) = item.is_road {
        if v {
            lines.push("  Is Road: Yes".to_string());
        }
    }
    if let Some(v) = item.is_salt_coast_land {
        if v {
            lines.push("  Is Salt Coast Land: Yes".to_string());
        }
    }
    if let Some(v) = item.is_salt_coast_water {
        if v {
            lines.push("  Is Salt Coast Water: Yes".to_string());
        }
    }
    if let Some(v) = item.is_salt_water {
        if v {
            lines.push("  Is Salt Water: Yes".to_string());
        }
    }
    if !item.is_specialist_cost_citizens.is_empty() {
        lines.push("  Is Specialist Cost Citizens:".to_string());
        for (k, v) in &item.is_specialist_cost_citizens {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_tribe_site {
        if v {
            lines.push("  Is Tribe Site: Yes".to_string());
        }
    }
    if let Some(v) = item.is_urban {
        if v {
            lines.push("  Is Urban: Yes".to_string());
        }
    }
    if let Some(v) = item.is_water {
        if v {
            lines.push("  Is Water: Yes".to_string());
        }
    }
    if let Some(v) = item.land_section {
        lines.push(format!("  Land Section: {}", v));
    }
    if let Some(v) = item.last_turn_owner_change {
        lines.push(format!("  Last Turn Owner Change: {}", v));
    }
    if let Some(v) = item.latitude {
        lines.push(format!("  Latitude: {}", v));
    }
    if let Some(v) = &item.map_element_name {
        lines.push(format!("  Map Element Name: {}", v));
    }
    if let Some(v) = &item.map_element_name_type {
        lines.push(format!("  Map Element Name Type: {}", shorten_type(v)));
    }
    if let Some(v) = &item.map_generator_data {
        lines.push(format!("  Map Generator Data: {}", v));
    }
    if let Some(v) = &item.metadata {
        lines.push(format!("  Metadata: {}", v));
    }
    if let Some(v) = item.movement_cost_extra {
        lines.push(format!("  Movement Cost Extra: {}", v));
    }
    if let Some(v) = &item.nation {
        lines.push(format!("  Nation: {}", shorten_type(v)));
    }
    if let Some(v) = &item.nation_site {
        lines.push(format!("  Nation Site: {}", shorten_type(v)));
    }
    if let Some(v) = item.num_tags {
        lines.push(format!("  Num Tags: {}", v));
    }
    if let Some(v) = &item.orig_urban_owner {
        lines.push(format!("  Orig Urban Owner: {}", v));
    }
    if let Some(v) = &item.owner {
        lines.push(format!("  Owner: {}", v));
    }
    if let Some(v) = &item.owner_tribe {
        lines.push(format!("  Owner Tribe: {}", shorten_type(v)));
    }
    if let Some(v) = item.regrowth_turn {
        lines.push(format!("  Regrowth Turn: {}", v));
    }
    if let Some(v) = &item.resource {
        lines.push(format!("  Resource: {}", shorten_type(v)));
    }
    if let Some(v) = item.resource_height_offset {
        lines.push(format!("  Resource Height Offset: {}", v));
    }
    if let Some(v) = &item.river_se {
        lines.push(format!("  River SE: {}", v));
    }
    if let Some(v) = &item.river_sw {
        lines.push(format!("  River SW: {}", v));
    }
    if let Some(v) = &item.river_w {
        lines.push(format!("  River W: {}", v));
    }
    if let Some(v) = &item.specialist {
        lines.push(format!("  Specialist: {}", v));
    }
    if let Some(v) = &item.specialist_class {
        lines.push(format!("  Specialist Class: {}", v));
    }
    if let Some(v) = &item.team {
        lines.push(format!("  Team: {}", v));
    }
    if let Some(v) = &item.terrain {
        lines.push(format!("  Terrain: {}", shorten_type(v)));
    }
    if let Some(v) = &item.terrain_history {
        lines.push(format!("  Terrain History: {}", shorten_type(v)));
    }
    if let Some(v) = &item.terrain_stamp {
        lines.push(format!("  Terrain Stamp: {}", shorten_type(v)));
    }
    if let Some(v) = item.terrain_stamp_tile_id {
        lines.push(format!("  Terrain Stamp Tile ID: {}", v));
    }
    if let Some(v) = item.terrain_unit_damage {
        lines.push(format!("  Terrain Unit Damage: {}", v));
    }
    if let Some(v) = item.trade_outpost_income {
        lines.push(format!("  Trade Outpost Income: {}", v));
    }
    if let Some(v) = &item.tribe_site {
        lines.push(format!("  Tribe Site: {}", shorten_type(v)));
    }
    if let Some(v) = &item.vegetation {
        lines.push(format!("  Vegetation: {}", shorten_type(v)));
    }
    if let Some(v) = &item.vegetation_history {
        lines.push(format!("  Vegetation History: {}", shorten_type(v)));
    }
    if let Some(v) = item.x {
        lines.push(format!("  X: {}", v));
    }
    if let Some(v) = item.y {
        lines.push(format!("  Y: {}", v));
    }

    lines.join("\n")
}

/// Format a list of tiles (all fields for each)
pub fn format_tiles(items: &[types::Tile]) -> String {
    if items.is_empty() {
        return "No tiles found".to_string();
    }

    items
        .iter()
        .map(|item| format_tile(item))
        .collect::<Vec<_>>()
        .join("\n\n")
}

/// Format a single Tribe for display (all fields)
pub fn format_tribe(item: &types::Tribe) -> String {
    let mut lines = Vec::new();

    lines.push("Tribe".to_string());

    if let Some(v) = item.ally_player_id {
        lines.push(format!("  Ally Player Id: {}", v));
    }
    if let Some(v) = item.has_diplomacy {
        if v {
            lines.push("  Has Diplomacy: Yes".to_string());
        }
    }
    if let Some(v) = item.has_leader {
        if v {
            lines.push("  Has Leader: Yes".to_string());
        }
    }
    if let Some(v) = item.has_religion {
        if v {
            lines.push("  Has Religion: Yes".to_string());
        }
    }
    if let Some(v) = item.is_alive {
        if v {
            lines.push("  Is Alive: Yes".to_string());
        }
    }
    if let Some(v) = item.is_dead {
        if v {
            lines.push("  Is Dead: Yes".to_string());
        }
    }
    if let Some(v) = item.leader_id {
        lines.push(format!("  Leader Id: {}", v));
    }
    if let Some(v) = &item.religion {
        lines.push(format!("  Religion: {}", shorten_type(v)));
    }
    if let Some(v) = &item.tribe_type {
        lines.push(format!("  Tribe Type: {}", shorten_type(v)));
    }

    lines.join("\n")
}

/// Format a list of tribes (all fields for each)
pub fn format_tribes(items: &[types::Tribe]) -> String {
    if items.is_empty() {
        return "No tribes found".to_string();
    }

    items
        .iter()
        .map(|item| format_tribe(item))
        .collect::<Vec<_>>()
        .join("\n\n")
}

/// Format a list of tribe alliances (all fields for each)
pub fn format_tribe_alliances(items: &[types::TribeAlliance]) -> String {
    if items.is_empty() {
        return "No tribe alliances found".to_string();
    }

    items
        .iter()
        .map(|item| {
            let mut lines = Vec::new();
            lines.push("TribeAlliance".to_string());
            if let Some(v) = item.ally_player_id {
                lines.push(format!("  Ally Player Id: {}", v));
            }
            if let Some(v) = item.player_id {
                lines.push(format!("  Player Id: {}", v));
            }
            if let Some(v) = &item.tribe_type {
                lines.push(format!("  Tribe Type: {}", shorten_type(v)));
            }
            lines.join("\n")
        })
        .collect::<Vec<_>>()
        .join("\n\n")
}

/// Format a list of tribe diplomacy entries (all fields for each)
pub fn format_tribe_diplomacy(items: &[types::TribeDiplomacy]) -> String {
    if items.is_empty() {
        return "No tribe diplomacy entries found".to_string();
    }

    items
        .iter()
        .map(|item| {
            let mut lines = Vec::new();
            lines.push("TribeDiplomacy".to_string());
            if let Some(v) = &item.diplomacy {
                lines.push(format!("  Diplomacy: {}", shorten_type(v)));
            }
            if let Some(v) = item.has_contact {
                if v {
                    lines.push("  Has Contact: Yes".to_string());
                }
            }
            if let Some(v) = item.is_hostile {
                if v {
                    lines.push("  Is Hostile: Yes".to_string());
                }
            }
            if let Some(v) = item.is_peace {
                if v {
                    lines.push("  Is Peace: Yes".to_string());
                }
            }
            if let Some(v) = item.player_id {
                lines.push(format!("  Player Id: {}", v));
            }
            if let Some(v) = &item.tribe_type {
                lines.push(format!("  Tribe Type: {}", shorten_type(v)));
            }
            lines.join("\n")
        })
        .collect::<Vec<_>>()
        .join("\n\n")
}

/// Format a single Unit for display (all fields)
pub fn format_unit(item: &types::Unit) -> String {
    let mut lines = Vec::new();

    lines.push("Unit".to_string());

    if let Some(v) = item.agent_network_cost {
        lines.push(format!("  Agent Network Cost: {}", v));
    }
    if let Some(v) = &item.caravan_mission_target {
        lines.push(format!("  Caravan Mission Target: {}", shorten_type(v)));
    }
    if let Some(v) = &item.civilian_cycle_subgroup {
        lines.push(format!("  Civilian Cycle Subgroup: {}", v));
    }
    if let Some(v) = item.consumption_mercenary_modifier {
        lines.push(format!("  Consumption Mercenary Modifier: {}", v));
    }
    if let Some(v) = &item.cooldown {
        lines.push(format!("  Cooldown: {}", v));
    }
    if let Some(v) = item.cooldown_turns {
        lines.push(format!("  Cooldown Turns: {}", v));
    }
    if let Some(v) = item.create_turn {
        lines.push(format!("  Create Turn: {}", v));
    }
    if let Some(v) = &item.current_formation {
        lines.push(format!("  Current Formation: {}", v));
    }
    if let Some(v) = item.damage {
        lines.push(format!("  Damage: {}", v));
    }
    if let Some(v) = item.damaged_extra_build_turns {
        lines.push(format!("  Damaged Extra Build Turns: {}", v));
    }
    if let Some(v) = item.effect_unit_count {
        lines.push(format!("  Effect Unit Count: {}", v));
    }
    if !item.effect_unit_counts.is_empty() {
        lines.push("  Effect Unit Counts:".to_string());
        for (k, v) in &item.effect_unit_counts {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.effect_unit_turn_remainings.is_empty() {
        lines.push("  Effect Unit Turn Remainings:".to_string());
        for (k, v) in &item.effect_unit_turn_remainings {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.effect_units.is_empty() {
        let items: Vec<String> = item.effect_units.iter().map(|s| shorten_type(s)).collect();
        lines.push(format!("  Effect Units: {}", items.join(", ")));
    }
    if let Some(v) = &item.end_rout_effect {
        lines.push(format!("  End Rout Effect: {}", shorten_type(v)));
    }
    if let Some(v) = item.explorer_id {
        lines.push(format!("  Explorer ID: {}", v));
    }
    if let Some(v) = &item.facing {
        lines.push(format!("  Facing: {}", v));
    }
    if let Some(v) = &item.family {
        lines.push(format!("  Family: {}", shorten_type(v)));
    }
    if let Some(v) = &item.family_class {
        lines.push(format!("  Family Class: {}", shorten_type(v)));
    }
    if let Some(v) = &item.family_opinion {
        lines.push(format!("  Family Opinion: {}", shorten_type(v)));
    }
    if let Some(v) = item.fatigue_limit {
        lines.push(format!("  Fatigue Limit: {}", v));
    }
    if let Some(v) = item.formation_bonus {
        lines.push(format!("  Formation Bonus: {}", v));
    }
    if let Some(v) = item.formation_turns {
        lines.push(format!("  Formation Turns: {}", v));
    }
    if let Some(v) = item.fortify_bonus {
        lines.push(format!("  Fortify Bonus: {}", v));
    }
    if let Some(v) = item.fortify_turns {
        lines.push(format!("  Fortify Turns: {}", v));
    }
    if let Some(v) = item.free_actions {
        lines.push(format!("  Free Actions: {}", v));
    }
    if let Some(v) = item.free_actions_taken {
        lines.push(format!("  Free Actions Taken: {}", v));
    }
    if let Some(v) = &item.free_improvement_build {
        lines.push(format!("  Free Improvement Build: {}", shorten_type(v)));
    }
    if let Some(v) = &item.gender {
        lines.push(format!("  Gender: {}", v));
    }
    if let Some(v) = item.general_id {
        lines.push(format!("  General ID: {}", v));
    }
    if let Some(v) = &item.grammatical_gender {
        lines.push(format!("  Grammatical Gender: {}", v));
    }
    if let Some(v) = item.harvest_distance_modifier {
        lines.push(format!("  Harvest Distance Modifier: {}", v));
    }
    if !item.harvest_yield_modifiers.is_empty() {
        lines.push("  Harvest Yield Modifiers:".to_string());
        for (k, v) in &item.harvest_yield_modifiers {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if !item.has_buy_tile_yields.is_empty() {
        lines.push("  Has Buy Tile Yields:".to_string());
        for (k, v) in &item.has_buy_tile_yields {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.has_caravan_mission_target {
        if v {
            lines.push("  Has Caravan Mission Target: Yes".to_string());
        }
    }
    if let Some(v) = item.has_cooldown {
        if v {
            lines.push("  Has Cooldown: Yes".to_string());
        }
    }
    if let Some(v) = item.has_critical_immune {
        if v {
            lines.push("  Has Critical Immune: Yes".to_string());
        }
    }
    if let Some(v) = item.has_effect_establish_theology {
        if v {
            lines.push("  Has Effect Establish Theology: Yes".to_string());
        }
    }
    if let Some(v) = item.has_effect_mercenary {
        if v {
            lines.push("  Has Effect Mercenary: Yes".to_string());
        }
    }
    if let Some(v) = item.has_effect_spread_religion {
        if v {
            lines.push("  Has Effect Spread Religion: Yes".to_string());
        }
    }
    if let Some(v) = item.has_effect_unit_any {
        if v {
            lines.push("  Has Effect Unit Any: Yes".to_string());
        }
    }
    if !item.has_effect_units.is_empty() {
        lines.push("  Has Effect Units:".to_string());
        for (k, v) in &item.has_effect_units {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.has_end_rout_effect {
        if v {
            lines.push("  Has End Rout Effect: Yes".to_string());
        }
    }
    if let Some(v) = item.has_enlist_next {
        if v {
            lines.push("  Has Enlist Next: Yes".to_string());
        }
    }
    if let Some(v) = item.has_explorer {
        if v {
            lines.push("  Has Explorer: Yes".to_string());
        }
    }
    if let Some(v) = item.has_family {
        if v {
            lines.push("  Has Family: Yes".to_string());
        }
    }
    if let Some(v) = item.has_family_opinion {
        if v {
            lines.push("  Has Family Opinion: Yes".to_string());
        }
    }
    if let Some(v) = item.has_family_territory_only {
        if v {
            lines.push("  Has Family Territory Only: Yes".to_string());
        }
    }
    if let Some(v) = item.has_free_actions {
        if v {
            lines.push("  Has Free Actions: Yes".to_string());
        }
    }
    if let Some(v) = item.has_free_improvement_build {
        if v {
            lines.push("  Has Free Improvement Build: Yes".to_string());
        }
    }
    if let Some(v) = item.has_general {
        if v {
            lines.push("  Has General: Yes".to_string());
        }
    }
    if let Some(v) = item.has_general_hopping {
        if v {
            lines.push("  Has General Hopping: Yes".to_string());
        }
    }
    if let Some(v) = item.has_general_modifier {
        lines.push(format!("  Has General Modifier: {}", v));
    }
    if let Some(v) = item.has_harvest {
        if v {
            lines.push("  Has Harvest: Yes".to_string());
        }
    }
    if let Some(v) = item.has_heal_neutral {
        if v {
            lines.push("  Has Heal Neutral: Yes".to_string());
        }
    }
    if let Some(v) = item.has_heal_pillage {
        if v {
            lines.push("  Has Heal Pillage: Yes".to_string());
        }
    }
    if !item.has_ignore_height_costs.is_empty() {
        lines.push("  Has Ignore Height Costs:".to_string());
        for (k, v) in &item.has_ignore_height_costs {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.has_ignore_vegetation_costs.is_empty() {
        lines.push("  Has Ignore Vegetation Costs:".to_string());
        for (k, v) in &item.has_ignore_vegetation_costs {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if !item.has_ignore_vegetation_defenses.is_empty() {
        lines.push("  Has Ignore Vegetation Defenses:".to_string());
        for (k, v) in &item.has_ignore_vegetation_defenses {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.has_ignore_zoc {
        if v {
            lines.push("  Has Ignore ZOC: Yes".to_string());
        }
    }
    if let Some(v) = item.has_last_stand {
        if v {
            lines.push("  Has Last Stand: Yes".to_string());
        }
    }
    if let Some(v) = item.has_launch_offensive {
        if v {
            lines.push("  Has Launch Offensive: Yes".to_string());
        }
    }
    if let Some(v) = item.has_moved {
        if v {
            lines.push("  Has Moved: Yes".to_string());
        }
    }
    if let Some(v) = item.has_name {
        if v {
            lines.push("  Has Name: Yes".to_string());
        }
    }
    if let Some(v) = item.has_no_road_cooldown {
        if v {
            lines.push("  Has No Road Cooldown: Yes".to_string());
        }
    }
    if let Some(v) = item.has_offensive_remove_cooldown {
        if v {
            lines.push("  Has Offensive Remove Cooldown: Yes".to_string());
        }
    }
    if let Some(v) = item.has_original_player {
        if v {
            lines.push("  Has Original Player: Yes".to_string());
        }
    }
    if let Some(v) = item.has_original_tribe {
        if v {
            lines.push("  Has Original Tribe: Yes".to_string());
        }
    }
    if let Some(v) = item.has_pillage {
        if v {
            lines.push("  Has Pillage: Yes".to_string());
        }
    }
    if let Some(v) = item.has_player {
        if v {
            lines.push("  Has Player: Yes".to_string());
        }
    }
    if !item.has_promotions.is_empty() {
        lines.push("  Has Promotions:".to_string());
        for (k, v) in &item.has_promotions {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.has_queue_list {
        if v {
            lines.push("  Has Queue List: Yes".to_string());
        }
    }
    if let Some(v) = item.has_rebel_player {
        if v {
            lines.push("  Has Rebel Player: Yes".to_string());
        }
    }
    if let Some(v) = item.has_religion {
        if v {
            lines.push("  Has Religion: Yes".to_string());
        }
    }
    if let Some(v) = item.has_remove_vegetation {
        if v {
            lines.push("  Has Remove Vegetation: Yes".to_string());
        }
    }
    if let Some(v) = item.has_visible_attack_cooldown {
        if v {
            lines.push("  Has Visible Attack Cooldown: Yes".to_string());
        }
    }
    if let Some(v) = item.has_zoc {
        if v {
            lines.push("  Has ZOC: Yes".to_string());
        }
    }
    if let Some(v) = item.hp {
        lines.push(format!("  Hp: {}", v));
    }
    if let Some(v) = item.hp_max {
        lines.push(format!("  Hp Max: {}", v));
    }
    if let Some(v) = item.id {
        lines.push(format!("  Id: {}", v));
    }
    if let Some(v) = &item.initial_gender {
        lines.push(format!("  Initial Gender: {}", v));
    }
    if let Some(v) = item.is_active_out_of_turn {
        if v {
            lines.push("  Is Active Out Of Turn: Yes".to_string());
        }
    }
    if let Some(v) = item.is_active_player {
        if v {
            lines.push("  Is Active Player: Yes".to_string());
        }
    }
    if let Some(v) = item.is_alive {
        if v {
            lines.push("  Is Alive: Yes".to_string());
        }
    }
    if let Some(v) = item.is_anchored {
        if v {
            lines.push("  Is Anchored: Yes".to_string());
        }
    }
    if let Some(v) = item.is_any_dirty {
        if v {
            lines.push("  Is Any Dirty: Yes".to_string());
        }
    }
    if let Some(v) = item.is_auto_harvest {
        if v {
            lines.push("  Is Auto Harvest: Yes".to_string());
        }
    }
    if let Some(v) = item.is_auto_heal {
        if v {
            lines.push("  Is Auto Heal: Yes".to_string());
        }
    }
    if let Some(v) = item.is_auto_move_only {
        if v {
            lines.push("  Is Auto Move Only: Yes".to_string());
        }
    }
    if let Some(v) = item.is_automated {
        if v {
            lines.push("  Is Automated: Yes".to_string());
        }
    }
    if let Some(v) = item.is_busy {
        if v {
            lines.push("  Is Busy: Yes".to_string());
        }
    }
    if let Some(v) = item.is_capturing_city {
        if v {
            lines.push("  Is Capturing City: Yes".to_string());
        }
    }
    if let Some(v) = item.is_critical_hit {
        if v {
            lines.push("  Is Critical Hit: Yes".to_string());
        }
    }
    if let Some(v) = item.is_damaged {
        if v {
            lines.push("  Is Damaged: Yes".to_string());
        }
    }
    if let Some(v) = item.is_dead {
        if v {
            lines.push("  Is Dead: Yes".to_string());
        }
    }
    if !item.is_explorer_effect_units.is_empty() {
        lines.push("  Is Explorer Effect Units:".to_string());
        for (k, v) in &item.is_explorer_effect_units {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_fatigued {
        if v {
            lines.push("  Is Fatigued: Yes".to_string());
        }
    }
    if let Some(v) = item.is_formation {
        if v {
            lines.push("  Is Formation: Yes".to_string());
        }
    }
    if let Some(v) = item.is_formation_max {
        if v {
            lines.push("  Is Formation Max: Yes".to_string());
        }
    }
    if let Some(v) = item.is_fortify {
        if v {
            lines.push("  Is Fortify: Yes".to_string());
        }
    }
    if let Some(v) = item.is_fortify_max {
        if v {
            lines.push("  Is Fortify Max: Yes".to_string());
        }
    }
    if !item.is_general_effect_units.is_empty() {
        lines.push("  Is General Effect Units:".to_string());
        for (k, v) in &item.is_general_effect_units {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_hidden_not_temp {
        if v {
            lines.push("  Is Hidden Not Temp: Yes".to_string());
        }
    }
    if let Some(v) = item.is_human {
        if v {
            lines.push("  Is Human: Yes".to_string());
        }
    }
    if let Some(v) = item.is_immobile {
        if v {
            lines.push("  Is Immobile: Yes".to_string());
        }
    }
    if !item.is_immune_effect_units.is_empty() {
        lines.push("  Is Immune Effect Units:".to_string());
        for (k, v) in &item.is_immune_effect_units {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_improving_tile {
        if v {
            lines.push("  Is Improving Tile: Yes".to_string());
        }
    }
    if let Some(v) = item.is_leader_explorer {
        if v {
            lines.push("  Is Leader Explorer: Yes".to_string());
        }
    }
    if let Some(v) = item.is_leader_general {
        if v {
            lines.push("  Is Leader General: Yes".to_string());
        }
    }
    if let Some(v) = item.is_level_max {
        if v {
            lines.push("  Is Level Max: Yes".to_string());
        }
    }
    if let Some(v) = item.is_level_promotion_max {
        if v {
            lines.push("  Is Level Promotion Max: Yes".to_string());
        }
    }
    if let Some(v) = item.is_locked {
        if v {
            lines.push("  Is Locked: Yes".to_string());
        }
    }
    if let Some(v) = item.is_march {
        if v {
            lines.push("  Is March: Yes".to_string());
        }
    }
    if let Some(v) = item.is_mod_variables {
        if v {
            lines.push("  Is Mod Variables: Yes".to_string());
        }
    }
    if let Some(v) = item.is_occurrence_impassable_immune {
        if v {
            lines.push("  Is Occurrence Impassable Immune: Yes".to_string());
        }
    }
    if let Some(v) = item.is_pass {
        if v {
            lines.push("  Is Pass: Yes".to_string());
        }
    }
    if let Some(v) = item.is_promotable {
        if v {
            lines.push("  Is Promotable: Yes".to_string());
        }
    }
    if let Some(v) = item.is_raiding {
        if v {
            lines.push("  Is Raiding: Yes".to_string());
        }
    }
    if let Some(v) = item.is_remove_vegatation {
        if v {
            lines.push("  Is Remove Vegatation: Yes".to_string());
        }
    }
    if let Some(v) = item.is_scout {
        if v {
            lines.push("  Is Scout: Yes".to_string());
        }
    }
    if let Some(v) = item.is_sentry {
        if v {
            lines.push("  Is Sentry: Yes".to_string());
        }
    }
    if let Some(v) = item.is_show_critical_hit {
        if v {
            lines.push("  Is Show Critical Hit: Yes".to_string());
        }
    }
    if let Some(v) = item.is_skip {
        if v {
            lines.push("  Is Skip: Yes".to_string());
        }
    }
    if let Some(v) = item.is_sleep {
        if v {
            lines.push("  Is Sleep: Yes".to_string());
        }
    }
    if let Some(v) = item.is_temp_hidden {
        if v {
            lines.push("  Is Temp Hidden: Yes".to_string());
        }
    }
    if let Some(v) = item.is_tribe {
        if v {
            lines.push("  Is Tribe: Yes".to_string());
        }
    }
    if !item.is_unit_zocs.is_empty() {
        lines.push("  Is Unit Zocs:".to_string());
        for (k, v) in &item.is_unit_zocs {
            if *v {
                lines.push(format!("    {}", shorten_type(k)));
            }
        }
    }
    if let Some(v) = item.is_unlimbered {
        if v {
            lines.push("  Is Unlimbered: Yes".to_string());
        }
    }
    if let Some(v) = item.is_worker {
        if v {
            lines.push("  Is Worker: Yes".to_string());
        }
    }
    if let Some(v) = item.level {
        lines.push(format!("  Level: {}", v));
    }
    if let Some(v) = item.level_promotion {
        lines.push(format!("  Level Promotion: {}", v));
    }
    if let Some(v) = &item.level_promotion_string {
        lines.push(format!("  Level Promotion String: {}", v));
    }
    if let Some(v) = &item.level_string {
        lines.push(format!("  Level String: {}", v));
    }
    if let Some(v) = item.march_cost {
        lines.push(format!("  March Cost: {}", v));
    }
    if let Some(v) = item.melee_counter_percent {
        lines.push(format!("  Melee Counter Percent: {}", v));
    }
    if !item.mod_variables.is_empty() {
        lines.push(format!("  Mod Variables: {}", item.mod_variables.join(", ")));
    }
    if let Some(v) = &item.name {
        lines.push(format!("  Name: {}", v));
    }
    if let Some(v) = &item.name_type {
        lines.push(format!("  Name Type: {}", shorten_type(v)));
    }
    if let Some(v) = &item.nation {
        lines.push(format!("  Nation: {}", shorten_type(v)));
    }
    if let Some(v) = item.next_critical_modifier {
        lines.push(format!("  Next Critical Modifier: {}", v));
    }
    if !item.offensive_units.is_empty() {
        lines.push(format!("  Offensive Units: {}", item.offensive_units.join(", ")));
    }
    if let Some(v) = &item.original_player {
        lines.push(format!("  Original Player: {}", v));
    }
    if let Some(v) = &item.original_tribe {
        lines.push(format!("  Original Tribe: {}", shorten_type(v)));
    }
    if let Some(v) = &item.player {
        lines.push(format!("  Player: {}", v));
    }
    if !item.promotions.is_empty() {
        lines.push(format!("  Promotions: {}", item.promotions.join(", ")));
    }
    if let Some(v) = &item.push_effect {
        lines.push(format!("  Push Effect: {}", shorten_type(v)));
    }
    if let Some(v) = &item.queue_list {
        lines.push(format!("  Queue List: {}", v));
    }
    if let Some(v) = &item.queued_tile {
        lines.push(format!("  Queued Tile: {}", v));
    }
    if let Some(v) = &item.rebel_player {
        lines.push(format!("  Rebel Player: {}", v));
    }
    if let Some(v) = &item.rebel_team {
        lines.push(format!("  Rebel Team: {}", v));
    }
    if let Some(v) = &item.religion {
        lines.push(format!("  Religion: {}", shorten_type(v)));
    }
    if let Some(v) = item.road_movement_modifier {
        lines.push(format!("  Road Movement Modifier: {}", v));
    }
    if let Some(v) = item.rout_chain {
        lines.push(format!("  Rout Chain: {}", v));
    }
    if let Some(v) = &item.spread_religion {
        lines.push(format!("  Spread Religion: {}", shorten_type(v)));
    }
    if let Some(v) = item.spread_religion_tribe_cost {
        lines.push(format!("  Spread Religion Tribe Cost: {}", v));
    }
    if let Some(v) = item.steps_to_fatigue {
        lines.push(format!("  Steps To Fatigue: {}", v));
    }
    if let Some(v) = item.strength_rating {
        lines.push(format!("  Strength Rating: {}", v));
    }
    if let Some(v) = &item.team {
        lines.push(format!("  Team: {}", v));
    }
    if let Some(v) = item.temp_hidden_turns {
        lines.push(format!("  Temp Hidden Turns: {}", v));
    }
    if let Some(v) = item.tile_id {
        lines.push(format!("  Tile ID: {}", v));
    }
    if !item.trade_outpost_costs.is_empty() {
        lines.push("  Trade Outpost Costs:".to_string());
        for (k, v) in &item.trade_outpost_costs {
            lines.push(format!("    {}: {}", shorten_type(k), v));
        }
    }
    if let Some(v) = item.train_cost_whole {
        lines.push(format!("  Train Cost Whole: {}", v));
    }
    if let Some(v) = item.train_xp {
        lines.push(format!("  Train XP: {}", v));
    }
    if let Some(v) = &item.tribe {
        lines.push(format!("  Tribe: {}", shorten_type(v)));
    }
    if let Some(v) = item.turn_steps {
        lines.push(format!("  Turn Steps: {}", v));
    }
    if let Some(v) = item.turns_since_last_move {
        lines.push(format!("  Turns Since Last Move: {}", v));
    }
    if let Some(v) = &item.type_ {
        lines.push(format!("  Type: {}", shorten_type(v)));
    }
    if let Some(v) = &item.unit_cycle_group {
        lines.push(format!("  Unit Cycle Group: {}", v));
    }
    if let Some(v) = &item.worker_animation_type {
        lines.push(format!("  Worker Animation Type: {}", shorten_type(v)));
    }
    if let Some(v) = item.x {
        lines.push(format!("  X: {}", v));
    }
    if let Some(v) = item.xp {
        lines.push(format!("  Xp: {}", v));
    }
    if let Some(v) = item.xp_threshold {
        lines.push(format!("  Xp Threshold: {}", v));
    }
    if let Some(v) = item.y {
        lines.push(format!("  Y: {}", v));
    }

    lines.join("\n")
}

/// Format a list of units (all fields for each)
pub fn format_units(items: &[types::Unit]) -> String {
    if items.is_empty() {
        return "No units found".to_string();
    }

    items
        .iter()
        .map(|item| format_unit(item))
        .collect::<Vec<_>>()
        .join("\n\n")
}

/// Format a list of unit events (all fields for each)
pub fn format_unit_events(items: &[types::UnitEvent]) -> String {
    if items.is_empty() {
        return "No unit events found".to_string();
    }

    items
        .iter()
        .map(|item| {
            let mut lines = Vec::new();
            lines.push("UnitEvent".to_string());
            if let Some(v) = &item.event_type {
                lines.push(format!("  Event Type: {:?}", v));
            }
                        if let Some(v) = item.last_owner_id {
                lines.push(format!("  Last Owner Id: {}", v));
            }
                        if let Some(v) = item.player_id {
                lines.push(format!("  Player Id: {}", v));
            }
            if let Some(v) = item.unit_id {
                lines.push(format!("  Unit Id: {}", v));
            }
            if let Some(v) = &item.unit_type {
                lines.push(format!("  Unit Type: {}", shorten_type(v)));
            }
            lines.join("\n")
        })
        .collect::<Vec<_>>()
        .join("\n\n")
}

/// Format a list of wonder events (all fields for each)
pub fn format_wonder_events(items: &[types::WonderEvent]) -> String {
    if items.is_empty() {
        return "No wonder events found".to_string();
    }

    items
        .iter()
        .map(|item| {
            let mut lines = Vec::new();
            lines.push("WonderEvent".to_string());
            if let Some(v) = item.city_id {
                lines.push(format!("  City Id: {}", v));
            }
            if let Some(v) = &item.event_type {
                lines.push(format!("  Event Type: {:?}", v));
            }
            if let Some(v) = item.player_id {
                lines.push(format!("  Player Id: {}", v));
            }
            if let Some(v) = &item.tribe_type {
                lines.push(format!("  Tribe Type: {}", shorten_type(v)));
            }
            if let Some(v) = &item.wonder {
                lines.push(format!("  Wonder: {}", v));
            }
            lines.join("\n")
        })
        .collect::<Vec<_>>()
        .join("\n\n")
}

